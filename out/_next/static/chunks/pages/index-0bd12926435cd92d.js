(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2909)}])},2466:function(n,e,t){"use strict";var i,a,r=t(5893),o=t(1120),l=t(282),s=t(5697),c=t.n(s);function d(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var u=(0,o.Z)((function(n){return{buttonStyle:(i={position:"relative",fontWeight:"900",fontSize:"16px",padding:n.root.buttonPadding,height:"45px",borderRadius:n.root.borderRadius,background:n.palette.byzantine.main,overflow:"hidden"},d(i,n.breakpoints.down("sm"),{height:"auto"}),d(i,"&:hover",{color:n.palette.smokyWhite.main,background:n.palette.gradient.pink}),i),buttonOutlined:(a={position:"relative",fontWeight:"900",fontSize:"16px",height:"45px",padding:n.root.buttonPadding,borderRadius:n.root.borderRadius,color:n.palette.byzantine.main,borderColor:n.palette.byzantine.main,overflow:"hidden"},d(a,n.breakpoints.down("sm"),{height:"auto"}),d(a,"&:hover",{color:n.palette.smokyWhite.main,background:n.palette.gradient.pink}),a)}})),p=function(n){var e=n.text,t=n.isInactive,i=n.type,a=n.onClick,o=n.variant,s=n.style,c=u();return(0,r.jsx)(l.Z,{variant:o||"contained",color:"primary",className:"outlined"===o?c.buttonOutlined:c.buttonStyle,disabled:t,type:i,onClick:a,style:s,children:e})};p.propTypes={text:c().string.isRequired,isInactive:c().bool,type:c().string,onClick:c().func,variant:c().string,style:c().any},e.Z=p},2909:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return Wt}});var i=t(5666),a=t.n(i),r=t(5893),o=t(5697),l=t.n(o),s=t(9473),c=t(7294),d=t(474);function u(){var n,e,t=(n=["\n  .summary-container {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    margin-top: 50px;\n  }\n\n  #date-range-picker {\n    padding: 12.5px 10px;\n    border-radius: 5px;\n    border: 0px;\n  }\n\n  .left-portion {\n    ","\n    padding-right: 20px;\n    flex: 1 1 400px;\n\n    .maintenance-container {\n      margin-top: 30px;\n    }\n  }\n\n  .right-portion {\n    ","\n    padding-right: 20px;\n    flex: 1 1 400px;\n\n    @media all and (max-width: 850px) {\n      margin-top: 20px;\n    }\n  }\n\n  .report-header {\n    @media all and (max-width: 960px) {\n      margin-bottom: 40px;\n    }\n  }\n\n  .count-block {\n    height: 140px;\n    color: white;\n    position: relative;\n    padding: 20px;\n    box-shadow: 5.95181px 5.95181px 5.95181px rgb(0 0 0 / 8%);\n    border-radius: 5px;\n    overflow: hidden;\n\n    span {\n      inset: inherit !important;\n      width: 120px !important;\n      height: 100px !important;\n      right: -15px !important;\n      bottom: -8px !important;\n      z-index: 0 !important;\n    }\n\n    .count {\n      margin-top: 5px;\n      font-family: 'Titillium Web';\n      font-style: normal;\n      font-weight: 700;\n      font-size: 36px;\n      line-height: 55px;\n      position: relative;\n      z-index: 2;\n    }\n\n    .description {\n      font-weight: 700;\n      font-size: 14px;\n      line-height: 25px;\n      position: relative;\n      z-index: 2;\n    }\n  }\n\n  .report-container {\n    padding-top: 50px;\n  }\n\n  .date-display {\n    background: #ffffff;\n    border: 2px solid #e8ecef;\n    border-radius: 8px;\n    padding: 11px 24px;\n    font-size: 12px;\n    font-family: 'Roboto';\n    color: #616161;\n  }\n\n  .search-container {\n    position: relative;\n    min-width: 330px;\n  }\n\n  .date-range-container {\n    position: absolute;\n    top: 0;\n    transform: translateY(-25px);\n    z-index: 2;\n  }\n\n  .rdrDateDisplayWrapper {\n    min-width: 330px;\n  }\n\n  .rdrMonthAndYearWrapper {\n    display: ",";\n  }\n\n  .rdrMonth {\n    display: ",";\n  }\n\n  .date-done-btn {\n    top: 320px;\n    z-index: 10;\n    width: 332px;\n    background: white;\n    text-align: right;\n    position: absolute;\n    padding-right: 15px;\n    padding-bottom: 15px;\n    margin-top: 20px;\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return u=function(){return t},t}var p=d.Z.div(u(),"","",(function(n){return n.datePickerOpen?"flex":"none"}),(function(n){return n.datePickerOpen?"block":"none"})),x=t(5675),h=t(7394),m=t(8222),f=t(6570),g=t(3750),v=t(1120),b=t(9693),j=(t(8358),t(2318),t(4121),t(7812),t(2302)),y=t(9613),w=t(3681),N=t(282),k=t(9895),_=t(6847),Z=t(4436),C=t(4327),S=t(7702),O=t(2466);function P(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function B(){var n=P(["\n  margin-bottom: 60px;\n\n  .header {\n    background: #051c3f;\n    box-shadow: 5.95181px 5.95181px 5.95181px rgb(0 0 0 / 8%);\n    color: white;\n    padding: 26px 32px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    .title {\n      font-family: 'Titillium Web';\n      font-style: normal;\n      font-weight: 600;\n      font-size: 26px;\n    }\n  }\n\n  .controls {\n    display: flex;\n    align-items: center;\n  }\n\n  .view {\n    display: flex;\n    align-items: center;\n    // margin-right: 20px;\n\n    p {\n      margin-right: 20px;\n    }\n  }\n\n  .search {\n    display: flex;\n    align-items: center;\n\n    p {\n      margin-right: 20px;\n    }\n\n    .MuiTextField-root {\n      background: white;\n      border-radius: 5px;\n    }\n\n    .MuiOutlinedInput-input {\n      padding: 12.5px 10px;\n    }\n  }\n\n  .view-toggle-buttons {\n    padding: 0;\n    min-width: 0;\n    margin: 0 10px;\n  }\n\n  .table-container {\n    padding: 20px;\n    background: white;\n\n    .MuiPaper-elevation1 {\n      box-shadow: none;\n      border: 2px solid #e8ecef;\n    }\n\n    .MuiTableCell-root {\n      padding: 15px;\n      text-align: center;\n      font-size: 12px;\n    }\n\n    .MuiTableCell-head {\n      font-weight: 900;\n      text-align: left;\n    }\n\n    tr:nth-of-type(even) {\n      background-color: #e8ecef;\n    }\n  }\n\n  .pagination-container {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    color: #485057;\n\n    @media all and (max-width: 960px) {\n      flex-direction: column;\n    }\n\n    .left {\n      display: flex;\n      align-items: center;\n\n      @media all and (max-width: 960px) {\n        margin-bottom: 20px;\n      }\n    }\n\n    .right {\n      display: flex;\n      align-items: center;\n\n      .page-layout {\n        display: flex;\n        align-items: center;\n      }\n    }\n\n    .pipe {\n      background: #485057;\n      width: 1.5px;\n      height: 20px;\n      margin: 0 10px;\n    }\n\n    .number-of-records {\n      display: flex;\n      align-items: center;\n\n      .MuiFormControl-root {\n        margin: 0 10px;\n      }\n\n      .MuiOutlinedInput-input {\n        padding: 10px 16px;\n        width: 60px;\n      }\n    }\n  }\n\n  .page-layout {\n    p {\n      background: #7209b7;\n      color: white;\n      padding: 2px 5px;\n    }\n\n    .previous {\n      border: 2px solid #e8ecef;\n      background: white;\n      color: black;\n      border-top-left-radius: 5px;\n      border-bottom-left-radius: 5px;\n      padding: 2px 5px;\n      font-size: 14px;\n      cursor: pointer;\n    }\n\n    .next {\n      border: 2px solid #e8ecef;\n      background: white;\n      color: black;\n      border-top-right-radius: 5px;\n      border-bottom-right-radius: 5px;\n      padding: 2px 5px;\n      font-size: 14px;\n      cursor: pointer;\n    }\n  }\n\n  .MuiTableSortLabel-root {\n    white-space: nowrap;\n  }\n\n  .MuiTableContainer-root {\n    ::-webkit-scrollbar {\n      height: 5px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n      border-radius: 10px;\n      background: rgba(0, 0, 0, 0.2);\n    }\n  }\n\n  .MuiTableCell-head {\n    text-align: center !important;\n  }\n"]);return B=function(){return n},n}function z(){var n=P(["\n  .MuiLinearProgress-root {\n    height: 20px;\n    background: #f5f5f5;\n    box-shadow: inset 0px 4.75152px 9.50303px rgb(0 0 0 / 10%);\n    border-radius: 4.75152px;\n  }\n\n  .MuiLinearProgress-barColorPrimary {\n    background-color: ",";\n  }\n\n  .productivity {\n    font-family: 'Roboto';\n    font-size: 13px;\n    margin-top: 10px;\n    color: #808080;\n\n    .bold {\n      font-weight: 900;\n      color: black;\n    }\n  }\n"]);return z=function(){return n},n}var T=d.Z.div(B()),M=d.Z.div(z(),(function(n){return n.progressBackground})),I=T,F=t(3485),D=(t(6010),t(1268)),A=t(2692),R=t(3637),E=t(8101),L=t(992);function W(n,e,t,i,a,r,o){try{var l=n[r](o),s=l.value}catch(c){return void t(c)}l.done?e(s):Promise.resolve(s).then(i,a)}function H(n){return function(){var e=this,t=arguments;return new Promise((function(i,a){var r=n.apply(e,t);function o(n){W(r,i,a,o,l,"next",n)}function l(n){W(r,i,a,o,l,"throw",n)}o(void 0)}))}}var q,U,K,V=(0,v.Z)((function(){return{modal:{display:"flex",padding:"10px",alignItems:"center",justifyContent:"center"},paper:{position:"relative",background:"white",padding:"20px 40px",color:"black",fontSize:"15px",borderRadius:"8px",marginTop:"30px"},header:{display:"flex",alignItems:"center",justifyContent:"space-between","& h3":{color:L.Z.palette.trypanBlue.main,fontWeight:"900"},"& .MuiButton-label":{fontWeight:"900",color:"#646464"}},btnContainer:{textAlign:"right",display:"flex",alignItems:"center",justifyContent:"space-between","& .MuiButton-root":{padding:"5px 20px"}},children:{padding:"20px 0","& p":{fontSize:"18px",opacity:"0.6",fontWeight:"500",height:"80px"}},counterContainer:{display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:"50px","& .MuiFormControl-root":{width:"90px",margin:"0 10px"},"& .MuiOutlinedInput-input":{padding:"10px"},"& .MuiInputBase-root":{fontSize:"25px"},"& span":{cursor:"pointer"}},division:{borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:"thin",borderBottomWidth:0,marginBottom:"15px"},title:{marginRight:"65px"},commentField:{width:"100%",marginBottom:"10px"},error:{marginBottom:"20px",color:"red"}}})),Q=function(n){var e=n.data,t=e.printingId,i=e.loaderId,a=e.licenceNumber,o=e.wagonNo,l=e.rackNo,s=e.gateNo,c=e.bagType,d=e.bagCount;return(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"card-info-container",children:[(0,r.jsxs)("div",{className:"hint-container",children:[(0,r.jsxs)("div",{className:"hints",style:{marginRight:"10px"},children:[(0,r.jsx)("div",{className:"key",children:"Loader ID"}),(0,r.jsx)("div",{className:"value",children:i})]}),(0,r.jsxs)("div",{className:"hints",children:[(0,r.jsx)("div",{className:"key",children:"Printing Belt ID"}),(0,r.jsx)("div",{className:"value",children:t})]})]}),(0,r.jsxs)("div",{className:"hint-container",children:[(0,r.jsxs)("div",{className:"hints",style:{marginRight:"10px"},children:[(0,r.jsx)("div",{className:"key",children:"Vehicle Details"}),(0,r.jsx)("div",{className:"value",children:""===a?"Wagon No.- ".concat(o," | Rake No.- ").concat(l," | Gate/Door No.- ").concat(s):"Truck No.- ".concat(a)})]}),(0,r.jsxs)("div",{className:"hints",children:[(0,r.jsx)("div",{className:"key",children:"Bags Filled"}),(0,r.jsx)("div",{className:"value",children:d})]})]}),(0,r.jsx)("div",{className:"hint-container",children:(0,r.jsxs)("div",{className:"hints",style:{marginRight:"10px"},children:[(0,r.jsx)("div",{className:"key",children:"Bag Type"}),(0,r.jsx)("div",{className:"value",children:c})]})})]})})},X=function(n){var e=n.open,t=n.close,i=n.title,o=n.children,l=n.bagCount,s=n.onlyBags,d=n.hideModify,u=n.buttonText,p=n.hideComment,h=n.hideConfirm,m=n.handleSubmit,f=n.currentCount,g=n.showDivision,v=n.handleBagDone,b=n.dataToDisplay,j=V(),y=(0,c.useState)(0),w=y[0],k=y[1],_=(0,c.useState)(""),Z=_[0],C=_[1],S=(0,c.useState)(""),P=S[0],B=S[1],z=H(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(b||""!==Z&&0!==w&&"0"!==w){n.next=3;break}return B("* All fields are required"),n.abrupt("return");case 3:return n.next=5,m({transaction_id:e.id||e.transaction_id,new_bag_limit:w,old_limit:e.bag_limit,comment:Z});case 5:case"end":return n.stop()}}),n)}))),T=H(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==Z){n.next=3;break}return B("* All fields are required"),n.abrupt("return");case 3:v(e.transaction_id||e.id,null===e||void 0===e?void 0:e.bag_counting_belt_id,null===e||void 0===e?void 0:e.printing_belt_id,null===e||void 0===e?void 0:e.vehicle_id,Z),t();case 5:case"end":return n.stop()}}),n)})));return(0,r.jsx)(D.Z,{open:e,closeAfterTransition:!0,className:j.modal,BackdropComponent:A.Z,BackdropProps:{timeout:500},children:(0,r.jsx)(R.Z,{in:e,children:(0,r.jsxs)("div",{className:j.paper,style:{minHeight:"".concat(s?"197px":"250px")},children:[(0,r.jsxs)("div",{className:j.header,children:[(0,r.jsx)("div",{className:"title",children:(0,r.jsx)("h3",{className:j.title,children:i})}),(0,r.jsx)("div",{className:j.closeBtn,children:(0,r.jsx)(N.Z,{variant:"text",onClick:function(){return t()},children:"X Close"})})]}),(0,r.jsx)("div",{className:j.children,children:b?(0,r.jsx)(Q,{data:b}):o}),b||p?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E.Z,{multiline:!0,rows:4,variant:"filled",placeholder:"Enter comment",value:Z,onChange:function(n){return C(n.target.value)},className:j.commentField,inputProps:{maxLength:500},error:""!==P}),(0,r.jsx)("p",{className:j.error,children:P})]}),g&&!s?(0,r.jsx)("hr",{className:j.division}):null,h?null:(0,r.jsxs)("div",{className:j.btnContainer,children:[e.bag_limit&&!d?(0,r.jsxs)("div",{className:j.counterContainer,children:[(0,r.jsx)(x.default,{src:"subtract_KLMfUKuhe.svg",loader:F.Z,layout:"fixed",height:40,width:40,onClick:function(){return k(Math.max(1,parseInt(w,10)-1))}}),(0,r.jsx)(E.Z,{variant:"outlined",value:w,onChange:function(n){""===n.target.value?k(1):isNaN(n.target.value)||k(Math.max(1,Math.min(parseInt(n.target.value,10),100)))},InputProps:{inputProps:{min:1,max:100}}}),(0,r.jsx)(x.default,{src:"add_W7hvn9BT_.svg",loader:F.Z,layout:"fixed",height:40,width:40,onClick:function(){return k(parseInt(w,10)+1)}})]}):(0,r.jsx)("div",{}),h?null:(0,r.jsxs)("div",{children:[s?null:(0,r.jsx)(O.Z,{text:f>=l?"Done":"Stop",onClick:T,variant:"outlined",style:{marginRight:"10px"}}),d?null:(0,r.jsx)(O.Z,{text:u||"Confirm",onClick:z})]})]})]})})})};X.propTypes=(q={open:l().any,close:l().func,title:l().string,children:l().any,hideConfirm:l().bool,handleSubmit:l().func,buttonText:l().string,bagCount:l().number,showDivision:l().bool,onlyBags:l().bool,currentCount:l().any,handleBagDone:l().func,dataToDisplay:l().object},U="hideConfirm",K=l().bool,U in q?Object.defineProperty(q,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):q[U]=K,q);var G=X;function J(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Y(){return(Y=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}var $=function(n){var e=Y({},n);return(0,r.jsx)(G,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),i.forEach((function(e){J(n,e,t[e])}))}return n}({},e))};function nn(){var n,e,t=(n=["\n  max-height: 500px;\n  overflow: auto;\n\n  ::-webkit-scrollbar {\n    width: 5px;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    background: rgba(0, 0, 0, 0.2);\n  }\n\n  .defect {\n    display: flex;\n\n    .stepper {\n      position: relative;\n\n      .thumb {\n        width: 14px;\n        height: 14px;\n        background: #666666;\n        border-radius: 100px;\n        margin: 0 34px;\n        margin-top: 3px;\n        position: relative;\n        z-index: 1;\n      }\n\n      .vr {\n        height: 100%;\n        width: 1px;\n        opacity: 0.2;\n        background: #b6b6b6;\n        position: absolute;\n        top: 0;\n        left: 50%;\n        transform: translateX(-50%);\n        z-index: 0;\n        margin-top: 3px;\n      }\n    }\n\n    .title {\n      font-size: 16px;\n      font-weight: 900;\n      text-align: right;\n      opacity: 0.6;\n      min-width: 70px;\n    }\n\n    .active {\n      opacity: 1;\n      color: ",";\n    }\n  }\n\n  .image {\n    display: flex;\n    align-items: flex-start;\n\n    .image-container {\n      position: relative;\n      width: 180px;\n      aspect-ratio: 1.5/1;\n      margin: 2px 24px 40px 0;\n    }\n  }\n\n  .description {\n    .heading {\n      font-weight: 900;\n      font-size: 22px;\n      letter-spacing: 1px;\n    }\n\n    .sub-heading {\n      font-weight: 500;\n      font-size: 16px;\n      line-height: 28px;\n    }\n  }\n\n  .no-defects {\n    height: 100px;\n    text-align: center;\n    align-items: center;\n    justify-content: center;\n    font-size: 16px;\n    color: gray;\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return nn=function(){return t},t}var en=d.Z.div(nn(),L.Z.palette.byzantine.main),tn=t(6076);function an(n,e,t,i,a,r,o){try{var l=n[r](o),s=l.value}catch(c){return void t(c)}l.done?e(s):Promise.resolve(s).then(i,a)}function rn(n){return function(){var e=this,t=arguments;return new Promise((function(i,a){var r=n.apply(e,t);function o(n){an(r,i,a,o,l,"next",n)}function l(n){an(r,i,a,o,l,"throw",n)}o(void 0)}))}}var on=function(n){var e=n.transaction_id,t=n.belt_id,i=(0,c.useState)(null),o=i[0],l=i[1];return(0,c.useEffect)((function(){var n=rn(a().mark((function n(){var t,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,s.U2)("/api/transaction/fetch-reject",{transaction_id:e});case 3:i=n.sent,l(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.data);case 5:case"end":return n.stop()}}),n)}))),i=rn(a().mark((function n(){var e,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,s.U2)("/api/transaction/fetch-reject-belt-bags",{machine_id:t});case 3:i=n.sent,l(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.data);case 5:case"end":return n.stop()}}),n)})));t?i():n()}),[t,e]),(0,r.jsx)(en,{children:o&&o.length>0?(0,r.jsx)(r.Fragment,{children:o.map((function(n,e){return(0,r.jsxs)("div",{className:"defect",children:[(0,r.jsx)("div",{className:"title ".concat(0===e?"active":""),children:new Date(null===n||void 0===n?void 0:n.created_at).toLocaleTimeString()}),(0,r.jsxs)("div",{className:"stepper",children:[(0,r.jsx)("div",{className:"thumb"}),e===o.length-1?null:(0,r.jsx)("div",{className:"vr"})]}),(0,r.jsxs)("div",{className:"image",children:[(0,r.jsx)("div",{className:"image-container",children:(0,r.jsx)(x.default,{src:n.local_image_path,layout:"fill",loader:function(){return"".concat(tn._n,"/api/transaction/images?image_location=").concat(n.local_image_path)},objectFit:"contain",objectPosition:"top"})}),(0,r.jsxs)("div",{className:"description",children:[(0,r.jsxs)("div",{className:"heading",children:["Alert #",e+1]}),(0,r.jsx)("div",{className:"sub-heading",children:"Bag tag missing"})]})]})]},e)}))}):(0,r.jsx)("div",{className:"no-defects",children:"No missing labled bags found."})})};on.propTypes={transaction_id:l().any,belt_id:l().string};var ln=on,sn=t(381),cn=t.n(sn),dn=t(5155),un=t(1649),pn=t(7265),xn=t(7516),hn=function(n){var e=Math.floor(n/1e3),t=Math.floor(e/60),i=Math.floor(t/60);return t=(e%=60)>=30?t+1:t,t%=60,"".concat((i%=24)<10?"0".concat(i):i,":").concat(t<10?"0".concat(t):t,":").concat(e<10?"0".concat(e):e)};function mn(){var n,e,t=(n=["\n  background: ",";\n  border-radius: 10px;\n  padding: ",";\n  // padding-top: ",";\n  padding-top: 20px;\n  // padding-bottom: ",";\n  padding-bottom: ",";\n  max-width: 330px;\n  width: 100%;\n  position: relative;\n\n  .head {\n    font-size: 18px;\n    margin-bottom: 20px;\n    align-items: flex-start !important;\n    padding: ",";\n\n    .id-container {\n      display: flex;\n      align-items: flex-start;\n\n      .status {\n        background: ",";\n        height: 18px;\n        width: 18px;\n        border-radius: 100px;\n        border: 2px solid #f5f5f5;\n        margin-top: ",";\n      }\n\n      .id {\n        color: ",";\n        font-weight: 600;\n        margin-left: 5px;\n        font-size: 15px;\n\n        .bag-id {\n          font-size: 18px;\n        }\n\n        .tag-id {\n          font-size: ",";\n        }\n      }\n    }\n\n    .timer {\n      font-weight: 900;\n      font-size: 14px;\n      color: ",";\n    }\n  }\n\n  .count-container {\n    display: flex;\n    margin-bottom: 10px;\n    align-items: center;\n    // margin-top: ",";\n    margin-top: ",";\n    padding: ",";\n\n    h2 {\n      margin-right: 10px;\n      font-weight: 900;\n      color: ",";\n    }\n\n    .MuiAvatar-circular {\n      background: ",";\n      cursor: pointer;\n      width: 30px;\n      height: 30px;\n    }\n\n    .count {\n      font-size: 44px;\n    }\n  }\n\n  .type {\n    font-size: 16px;\n    color: ",";\n    margin: 2px 0 20px 0;\n    margin-bottom: ",";\n\n    span {\n      font-weight: 900;\n      color: ",";\n    }\n  }\n\n  .rejected {\n    background: ",";\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 8px 12px;\n    position: absolute;\n    left: 0;\n    // bottom: ",";\n    width: 100%;\n\n    .count {\n      display: flex;\n      align-items: center;\n\n      .MuiAvatar-root {\n        margin-right: 10px;\n        color: ",";\n        background: white;\n        border: 1px solid #cccccc;\n        font-weight: 600;\n        width: 30px;\n        height: 30px;\n        font-size: 12px;\n      }\n\n      h6 {\n        font-size: 18px;\n        font-weight: 600;\n        color: ",";\n      }\n    }\n\n    .MuiButtonBase-root {\n      .MuiButton-label {\n        font-size: 14px;\n        font-weight: 900;\n        color: ",";\n      }\n    }\n  }\n\n  .action-buttons {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  .view-button {\n    width: ",";\n    border: 3px solid ",";\n    background: white;\n    border-radius: 12px;\n    font-size: 15px;\n    height: 35px;\n    padding: 20px;\n    color: ",";\n    font-weight: 900;\n\n    svg {\n      font-size: 25px;\n      margin-bottom: 3px;\n      margin-left: 5px;\n    }\n  }\n\n  .view-button2 {\n    width: 100%;\n    border: 3px solid white;\n    background: white;\n    border-radius: 12px;\n    font-size: 15px;\n    height: 35px;\n    color: ",";\n    font-weight: 900;\n\n    svg {\n      font-size: 25px;\n      margin-bottom: 3px;\n      margin-left: 5px;\n    }\n  }\n\n  .error {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 5px 13px;\n    -webkit-box-shadow: 1px 4px 12px -8px black;\n    -moz-box-shadow: 1px 4px 12px -8px black;\n    box-shadow: 1px 4px 12px -8px black;\n    color: white;\n    // display: ",";\n    display: none;\n    background: ",";\n    border-top-left-radius: 10px;\n    border-top-right-radius: 10px;\n\n    .title {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin-right: 5px;\n      font-weight: 600;\n      font-size: 12px;\n\n      svg {\n        margin-right: 5px;\n        margin-bottom: 2px;\n\n        path {\n          stroke: white;\n        }\n      }\n    }\n\n    .know-more-button {\n      text-transform: uppercase;\n      cursor: pointer;\n      font-weight: 600;\n      font-size: 10px;\n    }\n  }\n\n  .progress-container {\n    background: #f5f5f5;\n    border-radius: 8px;\n    padding: 13px;\n    padding-bottom: 5px;\n\n    .MuiLinearProgress-root {\n      height: 20px;\n      background: #f5f5f5;\n      box-shadow: inset 0px 4.75152px 9.50303px rgb(0 0 0 / 10%);\n      border-radius: 4.75152px;\n    }\n\n    .MuiLinearProgress-barColorPrimary {\n      background-color: ",";\n    }\n\n    .productivity {\n      font-family: 'Roboto';\n      font-size: 13px;\n      margin-top: 10px;\n      color: #808080;\n\n      .bold {\n        font-weight: 900;\n        color: black;\n      }\n    }\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return mn=function(){return t},t}var fn=d.Z.div(mn(),(function(n){return n.isError||n.status>0?1===n.status?"#CB952B":"white":"#26A84A"}),(function(n){return n.packerCard?"35px 5px":"35px 20px"}),(function(n){return n.isError?"40px":"20px"}),(function(n){return n.isError?"15px":"25px"}),(function(n){return n.packerCard?"8px":"25px"}),(function(n){return n.packerCard?"0 15px":"0 0"}),(function(n){return 0===n.status?"#01ba8f":(n.status,"white")}),(function(n){return n.printingCard?"1px":"4px"}),(function(n){return n.isError||n.status<=1?"white":"black"}),(function(n){return n.printingCard?"18px":"14px"}),(function(n){return n.isError?"black":"white"}),(function(n){return n.isError?"0":"10px"}),(function(n){return n.printingCard?"10px":"75px"}),(function(n){return n.packerCard?"0 15px":"0 0"}),(function(n){return n.status>=2?"black":"white"}),L.Z.palette.ultramarineBlue.main,(function(n){return n.isError||n.status<=1?"white":L.Z.palette.grey.grey100}),(function(n){return n.status<=1?"70px":1===n.status?"10px":"40px"}),(function(n){return n.isError?"black":"white"}),(function(n){return n.isError?L.Z.palette.error.light:"#f5f5f5"}),(function(n){return n.printingCard?"30px":"70px"}),L.Z.palette.dodgerBlue.main,(function(n){return n.isError?"white":"black"}),(function(n){return n.isError?"white":L.Z.palette.purple.main}),(function(n){return n.countReached&&0===n.status?"48%":"100%"}),L.Z.palette.byzantine.main,L.Z.palette.byzantine.main,L.Z.palette.byzantine.main,(function(n){return n.isError?"flex":"none"}),L.Z.palette.error.main,(function(n){return n.progressBackground})),gn=function(n){return n<=20?{colorCode:"#FF3945",status:"Poor"}:n<=40?{colorCode:"#F9D907",status:"Better"}:n<=60?{colorCode:"#00B2CF",status:"Good"}:n<=80?{colorCode:"#8264C0",status:"Average"}:{colorCode:"#00C1A3",status:"Excellent"}},vn=function(n){var e=n.data,t=n.status,i=n.loaderCard,a=n.packerCard,o=n.printingCard,l=n.rejectModalOpen,s=n.bagModifyModalOpen,d=n.setDetailModalOpen,u=n.setReverseShipmentFormOpen,p=n.handleBagDone,x=(0,c.useState)(0),h=x[0],m=x[1];return(0,c.useEffect)((function(){var n=setInterval((function(){return m(e.created_at?hn((new Date).getTime()-e.created_at):"00:00:00")}),1e3);return function(){return clearInterval(n)}}),[null===e||void 0===e?void 0:e.created_at]),(0,r.jsxs)(fn,{packerCard:a,progressBackground:gn(Math.min(100*e.count/tn.h7,100)).colorCode,status:t,countReached:e.bag_limit<=e.bag_count,printingCard:o,children:[(0,r.jsxs)("div",{className:"error",children:[(0,r.jsxs)("div",{className:"title",children:[(0,r.jsx)(dn.KLf,{}),"Error Occured"]}),(0,r.jsx)("div",{className:"know-more-button",children:(0,r.jsx)("p",{children:"Know more"})})]}),(0,r.jsxs)("div",{className:"head",style:{flexDirection:"row"},children:[(0,r.jsxs)("div",{className:"id-container",children:[(0,r.jsx)("div",{className:"status"}),(0,r.jsx)("div",{className:"id",children:a?(0,r.jsx)("p",{children:null===e||void 0===e?void 0:e.id}):(0,r.jsxs)(r.Fragment,{children:[o||a?null:(0,r.jsxs)("p",{className:"bag-id",children:[null===e||void 0===e?void 0:e.vehicle_id,"(",1===(null===e||void 0===e?void 0:e.vehicle_type)?"WL":"TL",")"]}),t<2&&i||o?(0,r.jsx)("p",{className:"tag-id",children:null===e||void 0===e?void 0:e.printing_id}):null]})})]}),(0,r.jsx)("div",{className:"timer",children:o||t>1?null:(0,r.jsx)(r.Fragment,{children:(null===e||void 0===e?void 0:e.count_finished_at)?hn((null===e||void 0===e?void 0:e.count_finished_at)-(null===e||void 0===e?void 0:e.created_at)):h})})]}),0===t&&!o&&(0,r.jsx)("div",{className:"rejected",style:{top:"75px",justifyContent:"center"},children:(0,r.jsx)("div",{className:"count",children:(0,r.jsx)("h6",{children:1===(null===e||void 0===e?void 0:e.vehicle_type)?"Wagon No.- ".concat(null===e||void 0===e?void 0:e.wagon_no):"Truck No.- ".concat(null===e||void 0===e?void 0:e.licence_number)})})}),t>1?null:(0,r.jsxs)("div",{className:"count-container",children:[(0,r.jsxs)("h2",{className:"count",children:[o?(null===e||void 0===e?void 0:e.tag_count)||0:(null===e||void 0===e?void 0:e.bag_count)||0,o?null:"/".concat((null===e||void 0===e?void 0:e.bag_limit)||"0")]}),o?null:(0,r.jsx)(pn.Z,{onClick:s,children:(0,r.jsx)(un.D0w,{})})]}),a?null:(0,r.jsxs)(r.Fragment,{children:[t>1?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"type",children:o?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Bag type: "})," ",e.bag_type]})}),t>1?null:(0,r.jsxs)("div",{className:"rejected",style:{bottom:o?"30px":"80px"},children:[(0,r.jsxs)("div",{className:"count",children:[(0,r.jsx)(pn.Z,{children:(null===e||void 0===e?void 0:e.missed_label_count)||0}),(0,r.jsx)("h6",{children:"Rejected bags"})]}),(0,r.jsx)(N.Z,{variant:"text",onClick:l,style:{backgroundColor:"#E6C5FC"},children:"View"})]})]}),o?null:(0,r.jsxs)("div",{className:"action-buttons",children:[t>1?(0,r.jsx)(N.Z,{variant:"contained",className:"view-button",onClick:function(){return u(null===e||void 0===e?void 0:e.id)},style:{color:"#008847",borderColor:"#008847",margin:"0px 30px"},children:"Create"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(N.Z,{variant:"outlined",className:"view-button",onClick:d,children:[0==t?e.bag_limit<=e.bag_count?"View":"View Details":"Edit"," ",e.bag_limit<=e.bag_count||1==t?null:(0,r.jsx)(xn.OEZ,{})]}),1==t&&(0,r.jsx)(N.Z,{className:"view-button",variant:"outlined",style:{color:"white",background:"#26A84A",borderColor:"#008847",marginLeft:"10px"},children:"Start"})]}),e.bag_limit<=e.bag_count&&0===t?(0,r.jsx)(O.Z,{variant:"filled",className:"view-button",onClick:function(){return p(null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.bag_counting_belt_id,null===e||void 0===e?void 0:e.printing_belt_id,null===e||void 0===e?void 0:e.vehicle_id)},text:"Done",style:{borderTopWidth:"3px",borderRightWidth:"3px",borderBottomWidth:"3px",borderLeftWidth:"3px",padding:"5px 15px",width:"48%",height:"45px",color:"white"}}):null]})]}),a?(0,r.jsxs)("div",{className:"progress-container",children:[(0,r.jsx)("div",{className:"progress-bar",children:(0,r.jsx)(w.Z,{variant:"determinate",value:Math.min(100*e.count/tn.h7,100)})}),(0,r.jsxs)("div",{className:"productivity",children:[(0,r.jsx)("span",{className:"bold",children:"Productivity:\xa0"}),(0,r.jsx)("span",{children:gn(Math.min(100*e.count/tn.h7,100)).status})]})]}):null]})};vn.propTypes={printingCard:l().bool,packerCard:l().bool,data:l().any,rejectModalOpen:l().func,bagModifyModalOpen:l().func,setDetailModalOpen:l().func,loaderCard:l().bool,setReverseShipmentFormOpen:l().func,handleBagDone:l().func};var bn=vn;var jn=function(n,e,t){return e[t]<n[t]?-1:e[t]>n[t]?1:0},yn=function(n,e){return"desc"===n?function(n,t){return jn(n,t,e)}:function(n,t){return-jn(n,t,e)}},wn=function(n,e){var t=null===n||void 0===n?void 0:n.map((function(n,e){return[n,e]}));return null===t||void 0===t||t.sort((function(n,t){var i=e(n[0],t[0]);return 0!==i?i:n[1]-t[1]})),null===t||void 0===t?void 0:t.map((function(n){return n[0]}))},Nn=[{id:"id",disablePadding:!0,label:"Shipment ID"},{id:"licence_number",disablePadding:!0,label:"Truck No. / Wagon No."},{id:"vehicle.machine_id",disablePadding:!0,label:"Loader ID"},{id:"printing_belt.machine_id",disablePadding:!0,label:"Printing Belt ID"},{id:"bag_type",disablePadding:!0,label:"Bag Type"},{id:"created_at_date",disablePadding:!0,label:"Start Date"},{id:"created_at_time",disablePadding:!0,label:"Start Time"},{id:"bag_count_completed_at",disablePadding:!0,label:"Loading Time"},{id:"bag_count_total",disablePadding:!0,label:"Bags Dispatched"},{id:"tag_count_total",disablePadding:!0,label:"Bags Packed"},{id:"bags_increased",disablePadding:!0,label:"Bags Increased"},{id:"aws_missed_labels",disablePadding:!0,label:"Misprint bags"},{id:"action",disablePadding:!0,label:"View"}],kn=[{id:"id",disablePadding:!0,label:"Belt ID"},{id:"up_time",disablePadding:!0,label:"Up Time"},{id:"down_time",disablePadding:!0,label:"Down Time"},{id:"tag_count_total",disablePadding:!0,label:"Bags Packed"},{id:"aws_missed_labels",disablePadding:!0,label:"Misprint bags"},{id:"action",disablePadding:!0,label:"View"},{id:"shipment_count",disablePadding:!0,label:"No. of Shipments Made"}],_n=[{id:"id",disablePadding:!0,label:"Loader ID"},{id:"up_time",disablePadding:!0,label:"Up Time"},{id:"down_time",disablePadding:!0,label:"Down Time"},{id:"bag_count",disablePadding:!0,label:"No. of Bags Dispatched"},{id:"shipment_count",disablePadding:!0,label:"No. of Shipments Made"}],Zn=[{id:"id",disablePadding:!0,label:"Packer ID"},{id:"runtime_performance",disablePadding:!0,label:"Runtime Performance"},{id:"overall_performance",disablePadding:!0,label:"Overall Performance"}],Cn=function(n){var e=n.layoutType,t=n.order,i=n.orderBy,a=n.classes,o=n.createSortHandler;switch(e){case 0:return(0,r.jsx)(h.Z,{children:Nn.map((function(n){return(0,r.jsx)(m.Z,{sortDirection:i===n.id&&t,children:(0,r.jsxs)(f.Z,{active:i===n.id,direction:i===n.id?t:"asc",onClick:o(n.id),children:[n.label,i===n.id?(0,r.jsx)("span",{className:a.visuallyHidden,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},n.id)}))});case 1:return(0,r.jsx)(h.Z,{children:kn.map((function(n){return(0,r.jsx)(m.Z,{align:n.numeric?"right":"left",padding:n.disablePadding?"none":"normal",sortDirection:i===n.id&&t,children:(0,r.jsxs)(f.Z,{active:i===n.id,direction:i===n.id?t:"asc",onClick:o(n.id),children:[n.label,i===n.id?(0,r.jsx)("span",{className:a.visuallyHidden,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},n.id)}))});case 2:return(0,r.jsx)(h.Z,{children:_n.map((function(n){return(0,r.jsx)(m.Z,{padding:n.disablePadding?"none":"normal",sortDirection:i===n.id&&t,children:(0,r.jsxs)(f.Z,{active:i===n.id,direction:i===n.id?t:"asc",onClick:o(n.id),children:[n.label,i===n.id?(0,r.jsx)("span",{className:a.visuallyHidden,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},n.id)}))});default:return(0,r.jsx)(h.Z,{children:Zn.map((function(n){return(0,r.jsx)(m.Z,{padding:n.disablePadding?"none":"normal",sortDirection:i===n.id&&t,children:(0,r.jsxs)(f.Z,{active:i===n.id,direction:i===n.id?t:"asc",onClick:o(n.id),children:[n.label,i===n.id?(0,r.jsx)("span",{className:a.visuallyHidden,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},n.id)}))})}};Cn.propTypes={layoutType:l().any,order:l().any,orderBy:l().any,classes:l().any,createSortHandler:l().any};var Sn=function(n){var e=n.classes,t=n.order,i=n.orderBy,a=n.onRequestSort,o=n.layoutType;return(0,r.jsx)(g.Z,{children:(0,r.jsx)(Cn,{order:t,orderBy:i,classes:e,layoutType:o,createSortHandler:function(n){return function(e){a(e,n)}}})})};Sn.propTypes={classes:l().object.isRequired,onRequestSort:l().func.isRequired,order:l().oneOf(["asc","desc"]).isRequired,orderBy:l().string.isRequired,layoutType:l().number};(0,v.Z)((function(n){return{root:{paddingLeft:n.spacing(2),paddingRight:n.spacing(1)},highlight:"light"===n.palette.type?{color:n.palette.secondary.main,backgroundColor:(0,b.$n)(n.palette.secondary.light,.85)}:{color:n.palette.text.primary,backgroundColor:n.palette.secondary.dark},title:{flex:"1 1 100%"}}}));l().number.isRequired;var On=(0,v.Z)((function(n){return{root:{width:"100%"},paper:{width:"100%",marginBottom:n.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},emptyContainer:{textAlign:"center",padding:"20px"}}})),Pn=function(n){var e=n.layoutType,t=n.data,i=n.setRejectIndex,a=On(),o=(0,c.useState)("asc"),l=o[0],s=o[1],d=(0,c.useState)("calories"),u=d[0],p=d[1],x=function(n,e){s(u===e&&"asc"===l?"desc":"asc"),p(e)};if(0===(null===t||void 0===t?void 0:t.count))return(0,r.jsx)("div",{className:a.emptyContainer,children:"No records found"});switch(e){case 0:var f;return(0,r.jsxs)(j.Z,{className:a.table,size:"medium",children:[(0,r.jsx)(Sn,{classes:a,order:l,orderBy:u,onRequestSort:x,layoutType:e}),(0,r.jsx)(y.Z,{children:null===(f=wn(null===t||void 0===t?void 0:t.rows,yn(l,u)))||void 0===f?void 0:f.map((function(n,e){var t,a,o;return(0,r.jsxs)(h.Z,{hover:!0,tabIndex:-1,children:[(0,r.jsx)(m.Z,{component:"th",scope:"row",padding:"none",style:{textAlign:"center"},children:null===n||void 0===n?void 0:n.id}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:""===(null===n||void 0===n?void 0:n.licence_number)?"Wagon No.- ".concat(n.wagon_no,", Gate/Door No.- ").concat(n.gate_no,", Rake No.- ").concat(n.rack_no):"Truck No.- ".concat(null===n||void 0===n?void 0:n.licence_number)}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:(null===n||void 0===n||null===(t=n.vehicle)||void 0===t?void 0:t.machine_id)||"NA"}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:(null===n||void 0===n||null===(a=n.printing_belt)||void 0===a?void 0:a.machine_id)||"NA"}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:null===n||void 0===n?void 0:n.bag_type}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:new Date(null===n||void 0===n?void 0:n.created_at).toLocaleDateString()}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:new Date(null===n||void 0===n?void 0:n.created_at).toLocaleTimeString()}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:cn().utc(cn().duration(cn()(null===n||void 0===n?void 0:n.stopped_at).diff(null===n||void 0===n?void 0:n.created_at)).asMilliseconds()).format("HH:mm:ss")}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:(null===n||void 0===n?void 0:n.bag_count)||0}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:null===n||void 0===n?void 0:n.tag_count}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:null===n||void 0===n?void 0:n.bags_increased}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:null===n||void 0===n?void 0:n.missed_label_count}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:(0,r.jsx)(O.Z,{text:"View",variant:"outlined",style:{fontSize:"12px",padding:"2px 10px 2px 10px",height:"30px"},onClick:function(){return i(e)},isInactive:0===(null===n||void 0===n||null===(o=n.aws_missed_labels)||void 0===o?void 0:o.length)})})]},e)}))})]});case 1:var g;return(0,r.jsxs)(j.Z,{className:a.table,size:"medium",children:[(0,r.jsx)(Sn,{classes:a,order:l,orderBy:u,onRequestSort:x,layoutType:e}),(0,r.jsx)(y.Z,{children:null===(g=wn(t,yn(l,u)))||void 0===g?void 0:g.map((function(n,e){var t;return(0,r.jsxs)(h.Z,{hover:!0,tabIndex:-1,children:[(0,r.jsx)(m.Z,{component:"th",scope:"row",padding:"none",style:{textAlign:"center"},children:null===n||void 0===n?void 0:n.belt_id}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:"NA"}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:"NA"}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:null===n||void 0===n?void 0:n.tag_count}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:null===n||void 0===n?void 0:n.missed_label_count}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:(0,r.jsx)(O.Z,{text:"View",variant:"outlined",style:{fontSize:"12px",padding:"2px 10px 2px 10px",height:"30px"},onClick:function(){return i(e)},isInactive:0===(null===n||void 0===n||null===(t=n.aws_missed_labels)||void 0===t?void 0:t.length)})}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:null===n||void 0===n?void 0:n.shipment_count})]},e)}))})]});case 2:var v;return(0,r.jsxs)(j.Z,{className:a.table,size:"medium",children:[(0,r.jsx)(Sn,{classes:a,order:l,orderBy:u,onRequestSort:x,layoutType:e}),(0,r.jsx)(y.Z,{children:null===(v=wn(t,yn(l,u)))||void 0===v?void 0:v.map((function(n,e){return(0,r.jsxs)(h.Z,{hover:!0,tabIndex:-1,children:[(0,r.jsxs)(m.Z,{component:"th",scope:"row",padding:"none",style:{textAlign:"center"},children:[null===n||void 0===n?void 0:n.belt_id,"(",1===(null===n||void 0===n?void 0:n.vehicle_type)?"WL":"TL",")"]}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:"NA"}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:"NA"}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:null===n||void 0===n?void 0:n.bag_count}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:null===n||void 0===n?void 0:n.shipment_count})]},e)}))})]});default:var b;return(0,r.jsxs)(j.Z,{className:a.table,size:"medium",children:[(0,r.jsx)(Sn,{classes:a,order:l,orderBy:u,onRequestSort:x,layoutType:e}),(0,r.jsx)(y.Z,{children:null===(b=wn(t,yn(l,u)))||void 0===b?void 0:b.map((function(n,e){return(0,r.jsxs)(h.Z,{hover:!0,tabIndex:-1,children:[(0,r.jsx)(m.Z,{component:"th",scope:"row",padding:"none",style:{textAlign:"center"},children:null===n||void 0===n?void 0:n.belt_id}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:n.runtime_performance?(0,r.jsx)(M,{progressBackground:gn(n.runtime_performance).colorCode,children:(0,r.jsx)(w.Z,{variant:"determinate",value:n.runtime_performance})}):"NA"}),(0,r.jsx)(m.Z,{style:{textAlign:"center"},children:n.overall_performance?(0,r.jsx)(M,{progressBackground:gn(n.overall_performance).colorCode,children:(0,r.jsx)(w.Z,{variant:"determinate",value:n.overall_performance})}):"NA"})]},e)}))})]})}};Pn.propTypes={data:l().any,layoutType:l().number,setRejectIndex:l().any};var Bn=function(n){var e,t,i=n.title,a=n.layoutType,o=n.data,l=n.startCount,s=n.endCount,d=n.setStartCount,u=n.setEndCount,p=n.hideRowCount,h=On(),m=(0,c.useState)(5),f=m[0],g=m[1],v=(0,c.useState)(null),b=v[0],j=v[1],y=function(){l>1&&(u(l),d(l-f))},w=function(){s<(null===o||void 0===o?void 0:o.count)&&(d(s),u(s+f))};return(0,r.jsxs)(I,{children:[(0,r.jsxs)("div",{className:"header",children:[(0,r.jsx)("div",{className:"title",children:i}),(0,r.jsx)("div",{className:"controls",children:(0,r.jsxs)("div",{className:"view",children:[(0,r.jsx)("p",{children:"View"}),(0,r.jsx)(N.Z,{className:"view-toggle-buttons",children:(0,r.jsx)(x.default,{src:"hamburger-icon.svg",loader:F.Z,layout:"fixed",height:25,width:25})}),(0,r.jsx)(N.Z,{className:"view-toggle-buttons",style:{marginLeft:"0px"},children:(0,r.jsx)(x.default,{src:"graph-icon.svg",loader:F.Z,layout:"fixed",height:25,width:25})})]})})]}),(0,r.jsx)("div",{className:"table-container",children:(0,r.jsxs)("div",{className:h.root,children:[(0,r.jsx)(k.Z,{className:h.paper,children:(0,r.jsx)(_.Z,{children:(0,r.jsx)(Pn,{layoutType:a,data:o,setRejectIndex:function(n){return j(n)}})})}),p?null:(0,r.jsxs)("div",{className:"pagination-container",children:[(0,r.jsxs)("div",{className:"left",children:[(0,r.jsxs)("div",{className:"number-of-records",children:["Show",(0,r.jsx)(Z.Z,{children:(0,r.jsxs)(C.Z,{variant:"outlined",value:f,onChange:function(n){d(0),u(n.target.value),g(n.target.value)},children:[(0,r.jsx)(S.Z,{value:5,children:"5"}),(0,r.jsx)(S.Z,{value:10,children:"10"}),(0,r.jsx)(S.Z,{value:20,children:"20"})]})}),"Values"]}),(0,r.jsx)("div",{className:"pipe"}),(0,r.jsxs)("div",{className:"total-records",children:["Showing ",0===(null===o||void 0===o?void 0:o.count)?0:l+1," to"," ",Math.min(s,null===o||void 0===o?void 0:o.count)," of ",null===o||void 0===o?void 0:o.count," entries"]})]}),(0,r.jsx)("div",{className:"right",children:(0,r.jsxs)("div",{className:"page-layout",children:[(0,r.jsx)("div",{className:"previous",onClick:y,onKeyPress:y,tabIndex:0,role:"button",children:"Previous"}),(0,r.jsx)("p",{children:s/f}),(0,r.jsx)("div",{className:"next",onClick:w,onKeyPress:w,tabIndex:0,role:"button",children:"Next"})]})})]})]})}),null!==b?(0,r.jsx)($,{open:null!==b,close:function(){return j(null)},title:"Misprint bags",hideConfirm:!0,hideComment:!0,children:(0,r.jsx)(ln,{belt_id:Array.isArray(o)?null===(e=o[b])||void 0===e?void 0:e.belt_id:null,transaction_id:null===(t=null===o||void 0===o?void 0:o.rows[b])||void 0===t?void 0:t.id})}):null]})};Bn.propTypes={title:l().string.isRequired,layoutType:l().number.isRequired,data:l().any,startCount:l().number,endCount:l().number,setStartCount:l().func,setEndCount:l().func,hideRowCount:l().bool};var zn=Bn,Tn=t(286);t(8143),t(8029);function Mn(n,e,t,i,a,r,o){try{var l=n[r](o),s=l.value}catch(c){return void t(c)}l.done?e(s):Promise.resolve(s).then(i,a)}function In(n){return function(){var e=this,t=arguments;return new Promise((function(i,a){var r=n.apply(e,t);function o(n){Mn(r,i,a,o,l,"next",n)}function l(n){Mn(r,i,a,o,l,"throw",n)}o(void 0)}))}}var Fn=function(n){var e=n[0].startDate,t=n[0].endDate;return[e=new Date(e).setUTCHours(18,30,0,999),t=new Date(t).setUTCHours(41,89,59,999)]},Dn=function(){var n=(0,c.useState)(null),e=n[0],t=n[1],i=(0,c.useState)(0),o=i[0],l=i[1],d=(0,c.useState)(5),u=d[0],x=d[1],h=(0,c.useState)(null),m=(h[0],h[1]),f=(0,c.useState)(0),g=f[0],v=(f[1],(0,c.useState)(5)),b=v[0],j=(v[1],(0,c.useState)(null)),y=j[0],w=j[1],N=(0,c.useState)(0),k=N[0],_=N[1],Z=(0,c.useState)(5),C=Z[0],S=Z[1],P=(0,c.useState)(null),B=P[0],z=P[1],T=(0,c.useState)(0),M=T[0],I=T[1],F=(0,c.useState)(5),D=F[0],A=F[1],R=(0,c.useState)(!1),E=R[0],L=R[1],W=(0,c.useState)([{startDate:new Date,endDate:new Date,key:"selection"}]),H=W[0],q=W[1],U=In(a().mark((function n(){var e,i,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=In(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.U2)("/api/analysis/shipment-report",{dateRange:Fn(H),trackbar:[o,u]});case 2:e=n.sent,t(e.data.data);case 4:case"end":return n.stop()}}),n)}))),i=In(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.U2)("/api/analysis/printing-report",{dateRange:Fn(H),trackbar:[k,C]});case 2:e=n.sent,w(e.data.data);case 4:case"end":return n.stop()}}),n)}))),r=In(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.U2)("/api/analysis/loading-report",{dateRange:Fn(H),trackbar:[M,D]});case 2:e=n.sent,z(e.data.data);case 4:case"end":return n.stop()}}),n)}))),In(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.U2)("/api/analysis/packer-report",{dateRange:Fn(H),trackbar:[g,b]});case 2:e=n.sent,m(e.data.data);case 4:case"end":return n.stop()}}),n)}))),n.next=6,Promise.all([e(),i(),r()]);case 6:case"end":return n.stop()}}),n)}))),K=In(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U();case 2:L(!1);case 3:case"end":return n.stop()}}),n)})));(0,c.useEffect)((function(){In(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.U2)("/api/analysis/shipment-report",{dateRange:Fn(H),trackbar:[o,u]});case 2:e=n.sent,t(e.data.data);case 4:case"end":return n.stop()}}),n)})))()}),[o,u]),(0,c.useEffect)((function(){U()}),[]);var V=function(n){n.currentTarget.contains(n.relatedTarget)||L(!1)};return(0,r.jsx)(p,{datePickerOpen:E,children:(0,r.jsxs)("div",{className:"analysis-container",children:[(0,r.jsxs)("div",{className:"head",children:[(0,r.jsx)("h2",{className:"report-header",children:"Reports"}),(0,r.jsx)("div",{className:"search-container",children:(0,r.jsxs)("div",{className:"date-range-container",onClick:function(){return L(!0)},onKeyPress:function(){return L(!0)},onBlur:V,tabIndex:0,role:"button",children:[E?(0,r.jsx)("div",{className:"date-done-btn",onBlur:V,children:(0,r.jsx)(O.Z,{text:"Search",onClick:K})}):null,(0,r.jsx)(Tn.C0,{editableDateInputs:!0,onChange:function(n){return q([n.selection])},moveRangeOnFirstSelection:!1,ranges:H,rangeColors:["#051c3f"]})]})})]}),(0,r.jsxs)("div",{className:"report-container",children:[(0,r.jsx)(zn,{title:"Shipment Tracking",layoutType:0,data:e,startCount:o,endCount:u,setStartCount:function(n){return l(n)},setEndCount:function(n){return x(n)}}),(0,r.jsx)(zn,{title:"Printing Bay",layoutType:1,data:y,startCount:k,endCount:C,setStartCount:function(n){return _(n)},setEndCount:function(n){return S(n)},hideRowCount:!0}),(0,r.jsx)(zn,{title:"Loading bay",layoutType:2,data:B,startCount:M,endCount:D,setStartCount:function(n){return I(n)},setEndCount:function(n){return A(n)},hideRowCount:!0})]})]})})},An=t(4094),Rn=t(1163),En=t(6642),Ln=t(4872),Wn=t(4142),Hn=t(1518);function qn(){var n,e,t=(n=["\n  nav {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    height: 70px;\n    background: ",";\n    padding: 0 60px 0 60px;\n    position: realtive;\n\n    @media all and (max-width: 960px) {\n      padding: 0 20px 0 20px;\n      height: 80px;\n    }\n  }\n\n  .logo {\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n    height: 60px;\n    width: 63px;\n    position: relative;\n\n    @media all and (max-width: 960px) {\n      height: 45px;\n      width: 49px;\n    }\n  }\n\n  .links {\n    display: flex;\n    align-items: center;\n\n    .MuiButtonBase-root {\n      min-width: auto;\n      border-radius: 12px;\n      margin-right: 15px;\n      background: ",";\n      font-weight: 600;\n      font-size: 12px;\n\n      &:hover {\n        background: ",";\n      }\n\n      .button-label {\n        overflow: hidden;\n        white-space: nowrap;\n      }\n    }\n\n    .purple-button {\n      background: ",";\n      font-weight: 600;\n    }\n  }\n\n  .notification {\n    background: white;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    border-radius: 32px;\n    padding: 10px 15px;\n    margin-right: 15px;\n\n    hr {\n      margin: 0 20px;\n      height: 20px;\n    }\n\n    .icon {\n      position: relative;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      .counter {\n        background: ",";\n        z-index: 2;\n        border-radius: 100px;\n        width: 15px;\n        height: 15px;\n        position: absolute;\n        top: -5px;\n        right: -7px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-weight: 900;\n        color: white;\n        font-size: 8px;\n      }\n\n      .blue-counter {\n        background: ",";\n      }\n    }\n  }\n\n  .menu-button {\n    border-radius: 100px !important;\n    background: #1e3352 !important;\n  }\n\n  .popper {\n    background: #f5f5f5;\n    padding: 14px 14px;\n    font-size: 17px;\n    width: 139px;\n    color: ",";\n    font-family: 'Inter';\n    position: relative;\n\n    .logout-container {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      cursor: pointer;\n    }\n\n    hr {\n      margin: 10px 0;\n      opacity: 0.1;\n    }\n\n    .arrow {\n      position: absolute;\n      top: -15px;\n      right: 10px;\n      color: #f5f5f5;\n    }\n  }\n\n  .hamburger-menu {\n    .MuiButton-label {\n      svg {\n        font-size: 30px;\n        color: ",";\n      }\n    }\n  }\n\n  #transitions-popper {\n    top: 17px !important;\n    z-index: 2;\n    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return qn=function(){return t},t}var Un=d.Z.div(qn(),L.Z.palette.royalBlue.main,L.Z.palette.byzantine.main,L.Z.palette.gradient.pink,L.Z.palette.purple.main,L.Z.palette.flickrPink.main,L.Z.palette.dodgerBlue.main,L.Z.palette.royalBlue.main,L.Z.palette.smokyWhite.main);function Kn(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Vn=(0,v.Z)((function(n){return{item1:Kn({order:1},n.breakpoints.down("sm"),{order:2}),item2:Kn({order:2},n.breakpoints.down("sm"),{order:1}),circularProgress:{position:"fixed",top:"45%",left:"45%"},drawer:{borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px",background:L.Z.palette.royalBlue.main},header:{display:"flex",justifyContent:"space-between",padding:"10px"},headerImage:{width:"60px",marginLeft:"10px"},hamburgerMenuIcon:{fontSize:"30px",color:L.Z.palette.smokyWhite.main},links:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginBottom:"20px"},menuButton:{textTransform:"capitalize",color:L.Z.palette.smokyWhite.main}}})),Qn=function(n){var e=n.open,t=n.close,i=n.openShipmentForm,a=n.openMaintenanceForm,o=n.openNotificationForm,l=n.maintenanceForm,s=Vn(),c=(0,Rn.useRouter)();return(0,r.jsx)(Hn.ZP,{anchor:"top",open:e,onClose:t,classes:{paper:s.drawer},children:(0,r.jsxs)(Un,{children:[(0,r.jsxs)("div",{className:s.header,children:[(0,r.jsx)("div",{children:(0,r.jsx)(x.default,{src:"high_res_logo.svg",alt:"Frinks",className:s.headerImage,height:40,width:40,loader:F.Z,onClick:function(){return c.push("/")}})}),(0,r.jsx)(N.Z,{onClick:t,children:(0,r.jsx)(un.M1X,{className:s.hamburgerMenuIcon})})]}),(0,r.jsxs)("div",{className:s.links,children:[(0,r.jsx)(N.Z,{variant:"contained",color:"primary",onClick:function(){return i()},children:(0,r.jsx)("p",{className:"button-label",children:"+ NEW SHIPMENT"})}),(0,r.jsx)(N.Z,{variant:"contained",color:"primary",className:"purple-button",onClick:function(){return l()},style:{margin:"20px 0"},children:(0,r.jsx)("p",{className:"button-label",children:"+ NEW MAINTENANCE TICKET"})}),(0,r.jsxs)("div",{className:"notification",children:[(0,r.jsx)("div",{className:"icon",onClick:function(){return o()},onKeyPress:function(){return o()},role:"button",tabIndex:0,children:(0,r.jsx)(x.default,{src:"notification_fU5rQCmps.svg",loader:F.Z,layout:"fixed",height:20,width:20})}),(0,r.jsx)("hr",{}),(0,r.jsx)("div",{className:"icon",onClick:function(){return a()},onKeyPress:function(){return a()},role:"button",tabIndex:0,children:(0,r.jsx)(x.default,{src:"warning_QhrmDxvk4.svg",loader:F.Z,layout:"fixed",height:20,width:20})})]})]})]})})};Qn.propTypes={open:l().bool.isRequired,close:l().func.isRequired};var Xn=Qn,Gn=t(4893),Jn=t(1733),Yn=t(4129);function $n(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var ne=function(n){var e=n.openShipmentForm,t=n.openMaintenanceForm,i=n.openNotificationForm,a=n.maintenanceForm,o=(0,Rn.useRouter)(),l=(0,c.useState)(null),s=l[0],d=l[1],u=(0,Gn.kT)(),p=(0,c.useContext)(Yn.k).setUserData,h=(0,c.useState)(!1),m=h[0],f=h[1];(0,c.useEffect)((function(){(null===u||void 0===u?void 0:u.isSuccess)&&(p({isLoggedIn:!1}),(0,Jn.dZ)("jwt"),o.replace("/login"))}),[null===u||void 0===u?void 0:u.isSuccess,o,p]);var g=Boolean(s),v=g?"transitions-popper":void 0;return(0,r.jsxs)(Un,{children:[(0,r.jsxs)("nav",{children:[(0,r.jsx)("div",{className:"logo",href:"/",onClick:function(){return o.push("/")},onKeyPress:function(){return o.push("/")},role:"button",tabIndex:0,children:(0,r.jsx)(x.default,{src:"high_res_logo.svg",loader:F.Z,objectFit:"cover",layout:"fill"})}),(0,r.jsx)(En.Z,{smDown:!0,children:(0,r.jsxs)("div",{className:"links",children:[tn.Q0?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Z,{variant:"contained",color:"primary",onClick:function(){return e()},children:(0,r.jsx)("p",{className:"button-label",children:"+ NEW SHIPMENT"})}),(0,r.jsx)(N.Z,{variant:"contained",color:"primary",className:"purple-button",onClick:function(){return a()},children:(0,r.jsx)("p",{className:"button-label",children:"+ NEW MAINTENANCE TICKET"})}),(0,r.jsxs)("div",{className:"notification",children:[(0,r.jsx)("div",{className:"icon",onClick:function(){return i()},onKeyPress:function(){return i()},role:"button",tabIndex:0,children:(0,r.jsx)(x.default,{src:"notification_fU5rQCmps.svg",loader:F.Z,layout:"fixed",height:20,width:20})}),(0,r.jsx)("hr",{}),(0,r.jsx)("div",{className:"icon",onClick:function(){return t()},onKeyPress:function(){return t()},role:"button",tabIndex:0,children:(0,r.jsx)(x.default,{src:"warning_QhrmDxvk4.svg",loader:F.Z,layout:"fixed",height:20,width:20})})]})]}),(0,r.jsx)(N.Z,{className:"menu-button",onClick:function(n){d(s?null:n.currentTarget)},children:(0,r.jsx)(x.default,{src:"DotsThreeOutlineVertical_yfCTGQ8ny.svg",loader:F.Z,layout:"fixed",height:20,width:20})}),(0,r.jsx)(Ln.Z,{id:v,open:g,anchorEl:s,transition:!0,placement:"bottom-end",disablePortal:!0,modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!0,boundariesElement:"viewport"}},children:function(n){var e=n.TransitionProps;return(0,r.jsx)(R.Z,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),i.forEach((function(e){$n(n,e,t[e])}))}return n}({},e,{timeout:350,children:(0,r.jsxs)("div",{className:"popper",children:[(0,r.jsxs)("span",{style:{cursor:"pointer"},children:[(0,r.jsx)(Wn.jcE,{className:"arrow"}),"Need Help?"]}),(0,r.jsx)("hr",{}),(0,r.jsxs)("div",{className:"logout-container",onClick:function(){return u.mutate({})},onKeyPress:function(){return u.mutate({})},tabIndex:0,role:"button",children:["Logout",(0,r.jsx)(x.default,{src:"UploadSimple_nuAcn_fBm.svg",loader:F.Z,layout:"fixed",height:20,width:20})]})]})}))}})]})}),(0,r.jsx)(En.Z,{mdUp:!0,children:(0,r.jsx)(N.Z,{className:"hamburger-menu",onClick:function(){return f(!0)},children:(0,r.jsx)(un.M1X,{})})})]}),(0,r.jsx)(En.Z,{mdUp:!0,children:(0,r.jsx)(Xn,{open:m,close:function(){return f(!1)},openShipmentForm:e,openMaintenanceForm:t,openNotificationForm:i,maintenanceForm:a})})]})};ne.propTypes={openShipmentForm:l().func,openMaintenanceForm:l().func,openNotificationForm:l().func,maintenanceForm:l().func};var ee=ne;function te(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ie(){return(ie=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}var ae=function(n){var e=ie({},n);return(0,r.jsx)(ee,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),i.forEach((function(e){te(n,e,t[e])}))}return n}({},e))},re=t(1749);function oe(){var n,e,t=(n=["\n  .footer {\n    background: ",";\n    color: ",";\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n    padding: 40px 60px;\n\n    @media all and (max-width: 960px) {\n      padding: 40px 20px;\n    }\n\n    .sub-heading {\n      margin-bottom: 15px;\n      font-size: 16px;\n      font-weight: 900;\n    }\n\n    .links {\n      display: flex;\n      align-items: flex-start;\n      justify-content: center;\n      flex-direction: column;\n      line-height: 24px;\n\n      a {\n        color: white;\n      }\n    }\n\n    .top-links {\n      margin-bottom: 25px;\n    }\n  }\n\n  .copyright {\n    text-align: right;\n    margin-top: 20px;\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return oe=function(){return t},t}var le=d.Z.div(oe(),L.Z.palette.royalBlue.main,L.Z.palette.smokyWhite.main),se=function(){return(0,r.jsx)(le,{children:(0,r.jsx)("footer",{className:"footer",children:(0,r.jsxs)(re.Z,{container:!0,children:[(0,r.jsx)(re.Z,{item:!0,md:2,xs:12,className:"logo-container",children:(0,r.jsx)(x.default,{src:"high_res_logo.svg",height:70,width:70,loader:F.Z})}),(0,r.jsx)(re.Z,{item:!0,md:10,xs:12,children:(0,r.jsx)("p",{className:"copyright",children:"\xa9\xa0Frinks.ai"})})]})})})},ce=function(){return(0,r.jsx)(se,{})},de={background:"white",color:L.Z.palette.byzantine.main,fontSize:"14px",height:"40px"},ue=(0,v.Z)((function(){return{nav:{display:"flex",alignItems:"center",height:"100px",background:L.Z.palette.royalBlue.main,position:"relative"},title:{color:"white",fontSize:"30px",fontWeight:"900",position:"relative",fontFamily:"Titillium Web"},counter:{background:L.Z.palette.flickrPink.main,position:"absolute",borderRadius:"100%",height:"45px",width:"45px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",top:"50%",right:"0",transform:"translate(120%, -50%)"},close:{position:"absolute",right:"0",top:"50%",transform:"translate(-50%, -50%)","& .MuiButtonBase-root":{color:"white","& .MuiButton-label":{fontWeight:"900"}}}}})),pe=function(n){var e=n.title,t=n.counter,i=n.close,a=n.summaryHeader,o=n.viewAllFunc,l=ue();return(0,r.jsxs)("nav",{className:l.nav,style:{padding:"".concat(a?"0 20px":"0 60px"),justifyContent:"".concat(a?"flex-start":"center"),borderTopLeftRadius:"".concat(a?"5px":"0"),borderTopRightRadius:"".concat(a?"5px":"0")},children:[(0,r.jsxs)("div",{className:l.title,children:[(0,r.jsx)("p",{children:e}),t?(0,r.jsx)("div",{className:l.counter,children:t}):null]}),(0,r.jsx)("div",{className:l.close,style:{right:"".concat(a?"-20px":"0")},children:a?(0,r.jsx)(O.Z,{text:"VIEW ALL",onClick:o,style:a?de:null,variant:"outlined"}):(0,r.jsx)(N.Z,{onClick:function(){return i()},children:"X Close"})})]})};pe.propTypes={title:l().string.isRequired,counter:l().number,close:l().func,summaryHeader:l().bool,viewAllFunc:l().func};var xe=pe;function he(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function me(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),i.forEach((function(e){he(n,e,t[e])}))}return n}var fe=function(n){var e=n.children,t=n.alternateHeader,i=n.title,a=n.counter,o=n.changeBackground,l=n.hideHeader,s=n.hideFooter,c=n.close,d=n.openShipmentForm,u=n.openMaintenanceForm,p=n.openNotificationForm,x=n.maintenanceForm,h=n.summaryHeader,m=n.disableMinimumHeight,f=n.viewAllFunc,g=n.style;return(0,r.jsxs)(r.Fragment,{children:[l?null:(0,r.jsx)(r.Fragment,{children:t?(0,r.jsx)(xe,{title:i,counter:a,close:c,summaryHeader:h,viewAllFunc:f}):(0,r.jsx)(ae,{openShipmentForm:d,openMaintenanceForm:u,openNotificationForm:p,maintenanceForm:x})}),(0,r.jsx)("div",{style:me({background:"".concat(o?"white":"#E5E5E5"),minHeight:"".concat(m?"auto":"70vh")},g),children:e}),s?null:(0,r.jsx)(ce,{})]})};fe.propTypes={children:l().any,alternateHeader:l().bool,title:l().string,counter:l().number,changeBackground:l().bool,hideHeader:l().bool,hideFooter:l().bool,close:l().func,openShipmentForm:l().func,openMaintenanceForm:l().func,openNotificationForm:l().func,maintenanceForm:l().func,summaryHeader:l().bool,disableMinimumHeight:l().bool,viewAllFunc:l().func,style:l().object};var ge=fe,ve=t(1591),be=t(8530),je=t(4686),ye=t(1594),we=t(2876),Ne=t(1994);function ke(){var n,e,t=(n=["\n  min-width: 90vw;\n  max-width: 90vw;\n  margin: auto;\n  padding: 30px 0;\n  margin-bottom: 120px;\n\n  .form-container {\n    background: white;\n    ","\n    width: 80%;\n    @media all and (max-width: 700px) {\n      width: 100%;\n    }\n    margin: auto;\n\n    border-radius: 10px;\n\n    .title {\n      padding: 30px 0;\n      opacity: 0.6;\n      font-size: 17px;\n      font-weight: 900;\n      line-height: 25px;\n      font-family: 'Roboto';\n      text-align: center;\n      margin-bottom: 30px;\n    }\n\n    .MuiFormControl-root {\n      width: 100%;\n    }\n\n    .MuiStepper-root {\n      padding: 0;\n      padding: 0 30px;\n    }\n\n    .MuiInputBase-root {\n      font-weight: 900;\n      border-radius: 12px;\n    }\n\n    .MuiStepContent-root {\n      border-left: 1px solid #e3e5e5;\n    }\n\n    .MuiStepLabel-label {\n      font-size: 22px;\n      margin-bottom: 5px;\n      font-weight: 900;\n      font-family: 'Titillium Web';\n    }\n\n    .MuiSelect-outlined {\n      padding: 16px 18px;\n    }\n\n    .MuiOutlinedInput-notchedOutline {\n      border-color: #e3e5e5;\n    }\n\n    .label {\n      color: #0e0f0f;\n      font-weight: 900;\n      margin-bottom: 12px;\n      font-family: 'Inter';\n      font-size: 14px;\n    }\n\n    .select-label {\n      position: absolute;\n      top: 50%;\n      left: 10%;\n      transform: translate(-15%, -50%);\n      font-size: 17px;\n      font-weight: 900;\n    }\n\n    .form-part {\n      @media all and (min-width: 700px) {\n        display: flex;\n      }\n\n      ","\n      ","\n      \n\n      .input-container {\n        width: 100%;\n        margin-right: 24px;\n        flex: 1 1 700px;\n        margin-top: 15px;\n\n        .counter-container {\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n\n          .MuiFormControl-root {\n            width: 54px;\n            margin: 0 10px;\n          }\n\n          .MuiOutlinedInput-input {\n            padding: 10px;\n          }\n\n          .MuiInputBase-root {\n            font-size: 25px;\n          }\n\n          span {\n            cursor: pointer;\n          }\n        }\n      }\n\n      .add-more-btn {\n        color: ",";\n        border: 3px solid ",";\n        margin-top: 24px;\n        font-size: 18px;\n        width: 326px;\n        border-radius: 12px;\n        font-weight: 900;\n        background: #f5f5f5;\n\n        svg {\n          font-size: 22px;\n          margin-bottom: 3px;\n          margin-right: 10px;\n        }\n      }\n    }\n\n    .MuiOutlinedInput-input {\n      padding: 16px 18px;\n    }\n\n    .submit-container {\n      padding: 40px;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      margin-top: 20px;\n      border-top: 1px solid rgba(0, 0, 0, 0.1);\n\n      p {\n        color: black;\n        font-size: 16px;\n      }\n\n      .MuiButtonBase-root {\n        width: 220px;\n        border-radius: 12px;\n      }\n    }\n  }\n\n  .MuiStepConnector-vertical {\n    span {\n      border: none;\n    }\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return ke=function(){return t},t}var _e=d.Z.div(ke(),"","","",L.Z.palette.byzantine.main,L.Z.palette.byzantine.main),Ze=t(8767),Ce=function(){return(0,Ze.useMutation)((function(n){return(0,s.v_)("/api/transaction/service",n).then((function(n){return n.data}))}))};function Se(n,e,t,i,a,r,o){try{var l=n[r](o),s=l.value}catch(c){return void t(c)}l.done?e(s):Promise.resolve(s).then(i,a)}function Oe(n){return function(){var e=this,t=arguments;return new Promise((function(i,a){var r=n.apply(e,t);function o(n){Se(r,i,a,o,l,"next",n)}function l(n){Se(r,i,a,o,l,"throw",n)}o(void 0)}))}}var Pe=(0,v.Z)((function(n){return{root:{width:"100%"},button:{marginTop:n.spacing(1),marginRight:n.spacing(1)},actionsContainer:{marginBottom:n.spacing(2)},resetContainer:{padding:n.spacing(3)}}})),Be=(0,ve.Z)({alternativeLabel:{top:10,left:"calc(-50% + 16px)",right:"calc(50% + 16px)"},active:{"& $line":{borderColor:"black",opacity:"0.1"}},completed:{"& $line":{borderColor:"black",opacity:"0.1"}},line:{borderColor:"black",borderTopWidth:3,borderRadius:1,opacity:"0.1"}})(be.Z),ze=function(n){var e=n.completed;return(0,r.jsx)("div",{children:e?(0,r.jsx)(x.default,{src:"completed_stepper_9e75U34X9.svg",loader:F.Z,layout:"fixed",height:25,width:25}):(0,r.jsx)(x.default,{src:"active_stepper_sr9KSBh3I.svg",loader:F.Z,layout:"fixed",height:25,width:25})})};ze.propTypes={completed:l().bool};var Te=function(n){var e,t,i=n.close,o=n.handleSubmit,l=n.reverseShipmentFormOpen,d=n.setReverseShipmentFormOpen,u=Pe(),p=(0,c.useState)(0),h=p[0],m=p[1],f=(0,c.useState)(""),g=f[0],v=f[1],b=(0,c.useState)(""),j=b[0],y=b[1],w=(0,c.useState)(""),N=w[0],k=w[1],_=(0,c.useState)(""),P=_[0],B=_[1],z=(0,c.useState)("0"),T=z[0],M=z[1],I=(0,c.useState)(null),D=I[0],A=I[1],R=(0,c.useState)(null),L=R[0],W=R[1],H=Ce(),q=(0,c.useState)(!1),U=q[0],K=q[1],V=(0,c.useState)(null),Q=V[0],X=V[1],G=function(n){return["Belts' details","".concat(null===n?"Loader":0===n?"Truck":"Wagon"," configuration"),"No. of bags needed to filled","Label for print data"]}(Q),J=(0,c.useState)(""),Y=J[0],nn=J[1],en=(0,c.useState)(""),an=en[0],rn=en[1],on=(0,c.useState)(""),ln=on[0],sn=on[1],cn=(0,c.useState)(""),dn=cn[0],un=cn[1],pn=(0,c.useState)(!1),xn=pn[0],hn=pn[1];(0,c.useEffect)((function(){var n=Oe(a().mark((function n(e,t){var i,r,o,l,c;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,s.U2)("/api/transaction/vehicle",{id:e});case 3:r=n.sent,t&&(y(t),X(null===(c=null===r||void 0===r||null===(o=r.data)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.find((function(n){return n.id===t})))||void 0===c?void 0:c.vehicle_type)),W(null===r||void 0===r||null===(i=r.data)||void 0===i?void 0:i.data);case 6:case"end":return n.stop()}}),n)})));l&&!L?n(g,l):""===g||L||n(g)}),[g,L,l]),(0,c.useEffect)((function(){return Oe(a().mark((function n(){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,s.U2)("/api/transaction/printing-belt",{vehicle_id:l});case 3:t=n.sent,A(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data);case 5:case"end":return n.stop()}}),n)})))(),function(){A(null)}}),[l]),(0,c.useEffect)((function(){""!==g&&""!==j&&m(Math.max(1,h))}),[h,j,g]),(0,c.useEffect)((function(){(""!==N||""!==an&&""!==Y&&""!==ln)&&m(Math.max(2,h))}),[h,N,ln,Y,an]),(0,c.useEffect)((function(){""!==P&&"0"!==T&&0!==T&&""!==T&&m(Math.max(3,h))}),[h,T,P]);var mn=function(n){switch(n){case 1:return(0,r.jsx)("div",{className:"form-part",children:0===Q?(0,r.jsxs)("div",{className:"input-container",children:[(0,r.jsx)("div",{className:"label",children:"Truck no."}),(0,r.jsx)(E.Z,{type:"text",variant:"outlined",placeholder:"Truck no.",value:N,onChange:function(n){return k(n.target.value)}})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"input-container",children:[(0,r.jsx)("div",{className:"label",children:"Rake no."}),(0,r.jsx)(E.Z,{variant:"outlined",placeholder:"Rake no.",value:Y,onChange:function(n){return nn(n.target.value)},InputProps:{inputProps:{min:0}}})]}),(0,r.jsxs)("div",{className:"input-container",children:[(0,r.jsx)("div",{className:"label",children:"Wagon no."}),(0,r.jsx)(E.Z,{variant:"outlined",placeholder:"Wagon no.",value:an,onChange:function(n){return rn(n.target.value)},InputProps:{inputProps:{min:0}}})]}),(0,r.jsxs)("div",{className:"input-container",children:[(0,r.jsx)("div",{className:"label",children:"Gate/Door no."}),(0,r.jsxs)(Z.Z,{children:[""===ln?(0,r.jsx)("div",{className:"select-label",children:"Gate/Door no."}):null,(0,r.jsxs)(C.Z,{variant:"outlined",value:ln,onChange:function(n){return sn(n.target.value)},children:[(0,r.jsx)(S.Z,{value:1,children:"1"}),(0,r.jsx)(S.Z,{value:2,children:"2"})]})]})]})]})});case 2:return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"form-part",children:[(0,r.jsxs)("div",{className:"input-container",children:[(0,r.jsx)("div",{className:"label",children:"Bag type"}),(0,r.jsxs)(Z.Z,{children:[""===P?(0,r.jsx)("div",{className:"select-label",children:"Bag type"}):null,(0,r.jsx)(C.Z,{variant:"outlined",value:P,onChange:function(n){return B(n.target.value)},children:tn.pf.map((function(n,e){return(0,r.jsx)(S.Z,{value:n,children:n},e)}))})]})]}),(0,r.jsxs)("div",{className:"input-container",children:[(0,r.jsx)("div",{className:"label",children:"No. of bags"}),(0,r.jsxs)("div",{className:"counter-container",children:[(0,r.jsx)(x.default,{src:"subtract_KLMfUKuhe.svg",loader:F.Z,layout:"fixed",height:40,width:40,onClick:function(){return M(Math.max(1,parseInt(T,10)-1).toString())}}),(0,r.jsx)(E.Z,{variant:"outlined",value:T,onChange:function(n){""===n.target.value?M(1):isNaN(n.target.value)||M(Math.max(1,Math.min(parseInt(n.target.value,10),2e3)))},style:{width:"200px"},InputProps:{inputProps:{min:0,max:2e3}}}),(0,r.jsx)(x.default,{src:"add_W7hvn9BT_.svg",loader:F.Z,layout:"fixed",height:40,width:40,onClick:function(){return M(Math.min(2e3,parseInt(T,10)+1).toString())}})]})]})]})});case 3:return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"form-part",children:(0,r.jsxs)("div",{className:"input-container",children:[(0,r.jsx)("div",{className:"label",children:"Label example"}),(0,r.jsx)(E.Z,{type:"text",variant:"outlined",placeholder:"Label example",value:dn,onChange:function(n){return un(n.target.value)}})]})})});default:return(0,r.jsxs)("div",{className:"form-part",children:[(0,r.jsxs)("div",{className:"input-container",children:[(0,r.jsx)("div",{className:"label",children:"Printing belt"}),(0,r.jsxs)(Z.Z,{children:[""===g?(0,r.jsx)("div",{className:"select-label",children:"Printing belt"}):null,(0,r.jsx)(C.Z,{variant:"outlined",value:g,onChange:function(n){var e;hn(1===(null===(e=D.filter((function(e){var t;return(null===e||void 0===e?void 0:e.id)===(null===n||void 0===n||null===(t=n.target)||void 0===t?void 0:t.value)}))[0])||void 0===e?void 0:e.is_busy)),v(n.target.value),l||(W(null),y("")),k(""),M(0),B(""),m(0)},children:D&&D.map((function(n,e){return(null===n||void 0===n?void 0:n.is_busy)?null:(0,r.jsx)(S.Z,{value:n.id,children:(0,r.jsxs)("span",{className:"dropdown-span",children:[(0,r.jsx)("p",{children:n.machine_id}),(0,r.jsx)("p",{style:{height:"10px",width:"10px",background:"".concat(n.is_busy?"red":"green"),borderRadius:"100px"}})]})},e)}))})]})]}),(0,r.jsxs)("div",{className:"input-container",children:[(0,r.jsx)("div",{className:"label",children:"Loader belt"}),(0,r.jsxs)(Z.Z,{children:[""===j?(0,r.jsx)("div",{className:"select-label",children:"Loader belt"}):null,(0,r.jsx)(C.Z,{variant:"outlined",value:j,onChange:function(n){var e;hn(1===(null===(e=L.filter((function(e){var t;return(null===e||void 0===e?void 0:e.id)===(null===n||void 0===n||null===(t=n.target)||void 0===t?void 0:t.value)}))[0])||void 0===e?void 0:e.is_busy)),y(n.target.value),X(L.find((function(e){return e.id===n.target.value})).vehicle_type)},disabled:!L||l,children:L&&L.map((function(n,e){return(null===n||void 0===n?void 0:n.is_busy)?null:(0,r.jsx)(S.Z,{value:n.id,children:(0,r.jsxs)("span",{className:"dropdown-span",children:[(0,r.jsxs)("p",{children:[n.machine_id,"(",1===(null===n||void 0===n?void 0:n.vehicle_type)?"WL":"TL",")"]}),(0,r.jsx)("p",{style:{height:"10px",width:"10px",background:"".concat(n.is_busy?"red":"green"),borderRadius:"100px"}})]})},e)}))})]})]})]})}};(0,c.useEffect)((function(){H.isSuccess&&(H.reset(),i(),d(null))}),[i,H,d]);var fn=Oe(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return K(!1),n.next=3,o({printingId:g,loaderId:j,licenceNumber:N,bagType:P,bagCount:T,wagonno:an,rackno:Y,gateno:ln,labelExample:dn});case 3:case"end":return n.stop()}}),n)})));return(0,r.jsxs)(ge,{alternateHeader:!0,title:"Create new shipment",close:function(n){i(n),d(null)},hideFooter:!0,children:[H.isLoading?(0,r.jsx)(An.Z,{}):null,(0,r.jsxs)(_e,{children:[(0,r.jsxs)("div",{className:"form-container",children:[(0,r.jsxs)("p",{className:"title",children:["Create shipment from here post filling all the available shipment information.",(0,r.jsx)("br",{}),"Shipment created can be later edited from main dashboard."]}),(0,r.jsxs)("form",{children:[(0,r.jsx)("div",{className:"stepper-container",children:(0,r.jsx)(je.Z,{activeStep:h,orientation:"vertical",connector:(0,r.jsx)(Be,{}),children:G.map((function(n,e){return(0,r.jsxs)(ye.Z,{active:e===h-3||e===h-2||e===h-1||e===h,children:[(0,r.jsx)(we.Z,{StepIconComponent:ze,children:n}),(0,r.jsx)(Ne.Z,{children:(0,r.jsx)("div",{className:u.actionsContainer,children:mn(e)})})]},n)}))})}),(0,r.jsxs)("div",{className:"submit-container",children:[(0,r.jsx)("p",{children:"Once you have marked all the choices as per your needs, click save."}),(0,r.jsx)(O.Z,{text:xn?"Add to Queue":"SAVE",onClick:function(){return K(!0)},isInactive:""===dn})]})]})]}),U?(0,r.jsx)($,{open:U,title:"Confirm changes",close:function(){return K(!1)},handleSubmit:function(){return fn()},dataToDisplay:{printingId:null===(e=null===D||void 0===D?void 0:D.find((function(n){return n.id===g})))||void 0===e?void 0:e.machine_id,loaderId:null===(t=null===L||void 0===L?void 0:L.find((function(n){return n.id===j})))||void 0===t?void 0:t.machine_id,licenceNumber:N,wagonNo:an,rackNo:Y,gateNo:ln,bagType:P,bagCount:T,labelExample:dn}}):null]})]})};Te.propTypes={close:l().func,handleSubmit:l().func,reverseShipmentFormOpen:l().any,setReverseShipmentFormOpen:l().func};var Me=Te;function Ie(){var n,e,t=(n=["\n  padding: 20px;\n  background: white;\n  margin: auto;\n\n  .defect {\n    display: flex;\n\n    .stepper {\n      position: relative;\n\n      .thumb {\n        width: 50px;\n        height: 50px;\n        background: #efde48;\n        border-radius: 100px;\n        margin: 0 15px;\n        margin-top: 3px;\n        position: relative;\n        z-index: 1;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .blank-thumb {\n        margin: 0 25px;\n      }\n\n      .vr {\n        height: 100%;\n        width: 2px;\n        opacity: 0.16;\n        background: #b6b6b6;\n        position: absolute;\n        top: 0;\n        left: 50%;\n        transform: translateX(-50%);\n        z-index: 0;\n        margin-top: 3px;\n      }\n    }\n\n    .title {\n      font-size: 12px;\n      font-weight: 900;\n      text-align: right;\n      opacity: 0.6;\n      min-width: 55px;\n    }\n  }\n\n  .defect > .title {\n    padding-top: 18px;\n  }\n\n  .image {\n    display: flex;\n    align-items: flex-start;\n    margin-bottom: 20px;\n\n    .image-container {\n      position: relative;\n      width: 120px;\n      aspect-ratio: 1.5/1;\n      margin: 2px 24px 14px 0;\n    }\n\n    .time {\n      font-weight: 400;\n    }\n  }\n\n  .notification {\n    width: 100%;\n    padding-bottom: 35px;\n\n    .info-container {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      background: white;\n      color: black;\n      padding: 10px 30px;\n      border-radius: 10px;\n      min-width: 80%;\n      margin-bottom: 35px;\n\n      .title {\n        text-align: left;\n        color: black;\n        margin-bottom: 8px;\n        font-size: 20px;\n        font-weight: 900;\n        opacity: 1;\n      }\n\n      .sub-title {\n        font-size: 12px;\n      }\n\n      .count {\n        font-size: 20px;\n        font-weight: 900;\n      }\n    }\n\n    .image-container {\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n\n      .image {\n        flex-direction: column;\n      }\n    }\n  }\n\n  .active {\n    .title {\n      color: ",";\n      opacity: 1;\n    }\n\n    .thumb {\n      background: "," !important;\n    }\n\n    .info-container {\n      background: ",";\n      color: white;\n\n      .title {\n        color: white;\n      }\n    }\n  }\n\n  .invert-vr {\n    height: 200px;\n    top: -90px;\n  }\n\n  .incorrect-container {\n    .MuiButtonBase-root {\n      border-color: red;\n      color: red;\n    }\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return Ie=function(){return t},t}var Fe=d.Z.div(Ie(),L.Z.palette.byzantine.main,L.Z.palette.byzantine.main,L.Z.palette.byzantine.main);function De(){var n,e,t=(n=["\n  padding: 20px;\n  background: white;\n  margin: auto;\n\n  .defect {\n    display: flex;\n\n    .stepper {\n      position: relative;\n\n      .thumb {\n        width: 50px;\n        height: 50px;\n        background: #efde48;\n        border-radius: 100px;\n        margin: 0 15px;\n        margin-top: 3px;\n        position: relative;\n        z-index: 1;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .blank-thumb {\n        margin: 0 25px;\n      }\n\n      .vr {\n        height: 100%;\n        width: 2px;\n        opacity: 0.16;\n        background: #b6b6b6;\n        position: absolute;\n        top: 0;\n        left: 50%;\n        transform: translateX(-50%);\n        z-index: 0;\n        margin-top: 3px;\n      }\n    }\n\n    .title {\n      font-size: 12px;\n      font-weight: 900;\n      text-align: right;\n      opacity: 0.6;\n      min-width: 55px;\n    }\n  }\n\n  .defect > .title {\n    padding-top: 18px;\n  }\n\n  .image {\n    display: flex;\n    align-items: flex-start;\n    margin-bottom: 20px;\n\n    .image-container {\n      position: relative;\n      width: 120px;\n      aspect-ratio: 1.5/1;\n      margin: 2px 24px 14px 0;\n    }\n\n    .time {\n      font-weight: 400;\n    }\n  }\n\n  .notification {\n    width: 100%;\n    padding-bottom: 35px;\n\n    .ticket-title {\n      color: #434343;\n      font-weight: 900;\n      font-size: 18px;\n    }\n\n    .description {\n      font-size: 12px;\n      margin-bottom: 20px;\n      margin-top: 8px;\n    }\n\n    .image-container {\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n\n      .image {\n        flex-direction: column;\n      }\n    }\n  }\n\n  .active {\n    .title {\n      color: ",";\n      opacity: 1;\n    }\n\n    .thumb {\n      background: "," !important;\n    }\n\n    .info-container {\n      background: ",";\n      color: white;\n\n      .title {\n        color: white;\n      }\n    }\n  }\n\n  .invert-vr {\n    height: 200px;\n    top: -90px;\n  }\n\n  .incorrect-container {\n    .MuiButtonBase-root {\n      border-color: red;\n      color: red;\n    }\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return De=function(){return t},t}var Ae=d.Z.div(De(),L.Z.palette.byzantine.main,L.Z.palette.byzantine.main,L.Z.palette.byzantine.main);function Re(){var n,e,t=(n=["\n  ","\n  width: 80%;\n  max-width: 1080px;\n  margin: auto;\n  padding-top: 80px;\n  padding-bottom: 50px;\n\n  .heading {\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 600;\n    font-size: 14px;\n    line-height: 39px;\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return Re=function(){return t},t}var Ee=d.Z.div(Re(),"");function Le(){var n,e,t=(n=["\n  display: flex;\n  padding: 20px;\n  background: white;\n  margin-bottom: 20px;\n  align-items: center;\n  justify-content: space-between;\n  border-left: 8px solid\n    ",";\n\n  .title {\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 600;\n    font-size: 24px;\n    line-height: 39px;\n  }\n\n  .sub-title .time {\n    font-family: 'Inter';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 24px;\n    line-height: 29px;\n    opacity: 0.6;\n  }\n\n  .time {\n    margin-top: 12px;\n  }\n\n  .right {\n    .MuiButtonBase-root {\n      width: 250px;\n      font-size: 14px;\n\n      @media (max-width: 600px) {\n        width: 100px;\n      }\n    }\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return Le=function(){return t},t}var We=d.Z.div(Le(),(function(n){return n.isActive?"#01ba8f":"rgb(102 102 102)"})),He=function(n){var e=n.isActive;return(0,r.jsxs)(We,{isActive:e,children:[(0,r.jsxs)("div",{className:"left",children:[(0,r.jsx)("div",{className:"title",children:"Ticket #123"}),(0,r.jsx)("div",{className:"sub-title",children:"Printing belt | belt jammed"}),(0,r.jsx)("div",{className:"time",children:"00:32:44"})]}),(0,r.jsx)("div",{className:"right",children:(0,r.jsx)(O.Z,{text:e?"Mark Complete":"View Details",variant:e?"contained":"outlined"})})]})};He.propTypes={isActive:l().bool};var qe=He;function Ue(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ke(){return(Ke=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}var Ve=function(n){var e=Ke({},n);return(0,r.jsx)(qe,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),i.forEach((function(e){Ue(n,e,t[e])}))}return n}({},e))},Qe=function(n){var e=n.close;return(0,r.jsx)(ge,{alternateHeader:!0,title:"Maintenance Requests",hideFooter:!0,close:e,children:(0,r.jsxs)(Ee,{children:[(0,r.jsx)("div",{className:"heading",children:"Active Tickets"}),(0,r.jsx)(Ve,{isActive:!0}),(0,r.jsx)("div",{className:"heading",children:"Previous Tickets"}),(0,r.jsxs)("div",{className:"previous-tickets",children:[(0,r.jsx)(Ve,{}),(0,r.jsx)(Ve,{}),(0,r.jsx)(Ve,{}),(0,r.jsx)(Ve,{})]})]})})};Qe.propTypes={close:l().func};var Xe=Qe;function Ge(){var n,e,t=(n=["\n  ","\n  ","\n  max-width: 800px;\n  margin: auto;\n  padding-top: 80px;\n\n  .defect {\n    display: flex;\n    @media (max-width: 900px) {\n      width: 60%;\n    }\n\n    .stepper {\n      position: relative;\n\n      .thumb {\n        width: 70px;\n        height: 70px;\n        background: #efde48;\n        border-radius: 100px;\n        margin: 0 25px;\n        margin-top: 3px;\n        position: relative;\n        z-index: 1;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .vr {\n        height: 100%;\n        width: 2px;\n        opacity: 0.16;\n        background: #b6b6b6;\n        position: absolute;\n        top: 0;\n        left: 50%;\n        transform: translateX(-50%);\n        z-index: 0;\n        margin-top: 3px;\n      }\n    }\n\n    .title {\n      font-size: 16px;\n      font-weight: 900;\n      text-align: right;\n      opacity: 0.6;\n      min-width: 70px;\n    }\n  }\n\n  .defect > .title {\n    padding-top: 27px;\n  }\n\n  .outer-image-container {\n    width: 50%;\n  }\n\n  .image {\n    display: flex;\n    align-items: flex-start;\n    @media (max-width: 900px) {\n      width: 60%;\n    }\n\n    .image-container {\n      position: relative;\n      width: 100px;\n      aspect-ratio: 1.5/1;\n      margin: 2px 24px 14px 0;\n    }\n\n    .time {\n      font-weight: 400;\n    }\n  }\n\n  .notification {\n    min-width: 80%;\n    padding-bottom: 35px;\n\n    .info-container {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      background: white;\n      color: black;\n      padding: 10px 30px;\n      border-radius: 10px;\n      min-width: 80%;\n      margin-bottom: 35px;\n\n      .title {\n        text-align: left;\n        color: black;\n        margin-bottom: 8px;\n        font-size: 20px;\n        font-weight: 900;\n        opacity: 1;\n      }\n\n      .sub-title {\n        font-size: 15px;\n      }\n\n      .count {\n        font-size: 25px;\n        font-weight: 900;\n      }\n    }\n\n    .image-container {\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n\n      .image {\n        flex-direction: column;\n      }\n    }\n  }\n\n  .active {\n    .title {\n      color: ",";\n      opacity: 1;\n    }\n\n    .thumb {\n      background: "," !important;\n    }\n\n    .info-container {\n      background: ",";\n      color: white;\n\n      .title {\n        color: white;\n      }\n    }\n  }\n\n  .invert-vr {\n    height: 200px;\n    top: -90px;\n  }\n\n  .incorrect-container {\n    margin-top: 20px;\n\n    .MuiButtonBase-root {\n      border-color: red;\n      color: red;\n    }\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return Ge=function(){return t},t}var Je=d.Z.div(Ge(),"","",L.Z.palette.byzantine.main,L.Z.palette.byzantine.main,L.Z.palette.byzantine.main);function Ye(n,e,t,i,a,r,o){try{var l=n[r](o),s=l.value}catch(c){return void t(c)}l.done?e(s):Promise.resolve(s).then(i,a)}var $e=function(n){var e=n.close,t=(0,c.useState)(null),i=t[0],o=t[1];return(0,c.useEffect)((function(){var n;return(n=a().mark((function n(){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,s.U2)("/api/transaction/notifications");case 3:t=n.sent,o(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data);case 5:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(i,a){var r=n.apply(e,t);function o(n){Ye(r,i,a,o,l,"next",n)}function l(n){Ye(r,i,a,o,l,"throw",n)}o(void 0)}))})(),function(){o(null)}}),[]),console.log(i),(0,r.jsx)(ge,{alternateHeader:!0,title:"Latest Activity",counter:21,changeBackground:!0,close:e,hideFooter:!0,children:(0,r.jsxs)(Je,{children:[(0,r.jsxs)("div",{className:"defect active",children:[(0,r.jsx)("div",{className:"title",children:"Just Now"}),(0,r.jsxs)("div",{className:"stepper",children:[(0,r.jsxs)("div",{className:"thumb",children:[(0,r.jsx)("div",{className:"vr invert-vr"}),(0,r.jsx)(x.default,{src:"Package_5rbWbqc1A.svg",loader:F.Z,layout:"fixed",height:60,width:60})]}),(0,r.jsx)("div",{className:"vr"})]}),(0,r.jsxs)("div",{className:"notification",children:[(0,r.jsxs)("div",{className:"info-container",children:[(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Incorrect bags"}),(0,r.jsx)("div",{className:"sub-title",children:"5 bags passed unmarked."})]}),(0,r.jsx)("div",{className:"count",children:"5 bags"})]}),(0,r.jsxs)("div",{className:"image-container outer-image-container",children:[(0,r.jsxs)("div",{className:"image",children:[(0,r.jsx)("div",{className:"image-container",children:(0,r.jsx)(x.default,{src:"/Misc/cement_bag_OVJ7LTPaH.png",loader:F.Z,layout:"fill",objectFit:"contain"})}),(0,r.jsx)("div",{className:"time",children:"8.48am"})]}),(0,r.jsxs)("div",{className:"image",children:[(0,r.jsx)("div",{className:"image-container",children:(0,r.jsx)(x.default,{src:"/Misc/cement_bag_OVJ7LTPaH.png",loader:F.Z,layout:"fill",objectFit:"contain"})}),(0,r.jsx)("div",{className:"time",children:"8.48am"})]}),(0,r.jsxs)("div",{className:"image",children:[(0,r.jsx)("div",{className:"image-container",children:(0,r.jsx)(x.default,{src:"/Misc/cement_bag_OVJ7LTPaH.png",loader:F.Z,layout:"fill",objectFit:"contain"})}),(0,r.jsx)("div",{className:"time",children:"8.48am"})]})]}),(0,r.jsx)("div",{className:"incorrect-container",children:(0,r.jsx)(N.Z,{variant:"outlined",color:"inherit",children:"Incorrect Alert?"})})]})]}),(0,r.jsxs)("div",{className:"defect",children:[(0,r.jsx)("div",{className:"title",children:"8:44am"}),(0,r.jsx)("div",{className:"stepper",children:(0,r.jsx)("div",{className:"thumb",children:(0,r.jsx)(x.default,{src:"Package_5rbWbqc1A.svg",loader:F.Z,layout:"fixed",height:60,width:60})})}),(0,r.jsxs)("div",{className:"notification",children:[(0,r.jsxs)("div",{className:"info-container",children:[(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Printing Belt"}),(0,r.jsx)("div",{className:"sub-title",children:"Belt was marked in idle status."})]}),(0,r.jsx)("div",{className:"count",children:"Belt ID"})]}),(0,r.jsx)("div",{className:"incorrect-container",children:(0,r.jsx)(N.Z,{variant:"outlined",color:"inherit",children:"Incorrect Alert?"})})]})]})]})})};$e.propTypes={close:l().func};var nt=$e;function et(n,e,t,i,a,r,o){try{var l=n[r](o),s=l.value}catch(c){return void t(c)}l.done?e(s):Promise.resolve(s).then(i,a)}function tt(n){return function(){var e=this,t=arguments;return new Promise((function(i,a){var r=n.apply(e,t);function o(n){et(r,i,a,o,l,"next",n)}function l(n){et(r,i,a,o,l,"throw",n)}o(void 0)}))}}var it=function(){var n,e=(0,c.useState)(null),t=e[0],i=e[1],o=(0,c.useState)(null),l=o[0],d=o[1],u=(0,c.useState)(null),h=u[0],m=u[1],f=(0,c.useState)(null),g=f[0],v=f[1],b=(0,c.useState)(null),j=b[0],y=b[1],w=(0,c.useState)(!1),N=w[0],k=w[1],_=(0,c.useState)(!1),Z=_[0],C=_[1],S=(0,c.useState)(!0),P=S[0],B=S[1];(0,c.useEffect)((function(){var n=tt(a().mark((function n(){var e,t,r,o,l,c,u,p,x,h,f;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,s.U2)("/api/analysis/summary",{dateRange:[1670669796316,1671193859803]});case 3:f=n.sent,i(null===f||void 0===f||null===(e=f.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.analysis),v(null===f||void 0===f||null===(r=f.data)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.shift),d(null===f||void 0===f||null===(l=f.data)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.date),m(null===f||void 0===f||null===(u=f.data)||void 0===u||null===(p=u.data)||void 0===p?void 0:p.belt_info),y(null===f||void 0===f||null===(x=f.data)||void 0===x||null===(h=x.data)||void 0===h?void 0:h.maintenance_tickets),B(!1);case 10:case"end":return n.stop()}}),n)})));t||n()}),[t]);var z=tt(a().mark((function n(e){var t,i,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,s.gz)("/api/transaction/maintenance",{id:e});case 3:(null===(i=n.sent)||void 0===i||null===(t=i.data)||void 0===t?void 0:t.success)&&((r=j.map((function(n){if(n.id!==e)return n})))[0]?y(r):y(null));case 5:case"end":return n.stop()}}),n)})));return Z?(0,r.jsx)(nt,{close:function(){return C(!1)}}):N?(0,r.jsx)(Xe,{close:function(){return k(!1)}}):(0,r.jsxs)(p,{children:[P&&(0,r.jsx)(An.Z,{}),(0,r.jsxs)("div",{className:"analysis-container",children:[(0,r.jsxs)("div",{className:"head",children:[(0,r.jsx)("h2",{children:"Shift Summary"}),(0,r.jsx)("div",{className:"date-container",children:(0,r.jsxs)("div",{className:"date-display",children:["Shift ",g," - ",new Date(l).toLocaleDateString()]})})]}),(0,r.jsxs)("div",{className:"summary-container",children:[(0,r.jsxs)("div",{className:"left-portion",children:[(0,r.jsx)("div",{className:"count-container",children:(0,r.jsxs)(re.Z,{container:!0,spacing:3,children:[(0,r.jsx)(re.Z,{item:!0,xs:6,children:(0,r.jsxs)("div",{className:"count-block",style:{background:L.Z.palette.summary.green},children:[(0,r.jsx)(x.default,{src:"Package.svg",loader:F.Z,layout:"fill"}),(0,r.jsx)("p",{className:"count",children:t?"".concat(null===t||void 0===t?void 0:t.total_bags_packed," Bags"):"NA"}),(0,r.jsx)("p",{className:"description",children:"Bags printed so far"})]})}),(0,r.jsx)(re.Z,{item:!0,xs:6,children:(0,r.jsxs)("div",{className:"count-block",style:{background:L.Z.palette.summary.red},children:[(0,r.jsx)(x.default,{src:"Tag.svg",loader:F.Z,layout:"fill"}),(0,r.jsx)("p",{className:"count",children:t?"".concat(null===t||void 0===t?void 0:t.total_missed_labels," Bags"):"NA"}),(0,r.jsx)("p",{className:"description",children:"Bags printed without label"})]})}),(0,r.jsx)(re.Z,{item:!0,xs:6,children:(0,r.jsxs)("div",{className:"count-block",style:{background:L.Z.palette.summary["light-blue"]},children:[(0,r.jsx)(x.default,{src:"PaintBrushBroad.svg",loader:F.Z,layout:"fill"}),(0,r.jsx)("p",{className:"count",children:t?"".concat(null===t||void 0===t?void 0:t.total_bags_dispatched," Bags"):"NA"}),(0,r.jsx)("p",{className:"description",children:"Bags dispatched"})]})})]})}),(0,r.jsx)("div",{className:"maintenance-container",children:(0,r.jsx)(ge,{alternateHeader:!0,title:"Assigned Tickets",hideFooter:!0,counter:0,summaryHeader:!0,disableMinimumHeight:!0,viewAllFunc:function(){return k(!0)},children:(0,r.jsx)(Ae,{children:j&&j.length>0?(0,r.jsx)(r.Fragment,{children:j.map((function(n,e){var t,i;return(0,r.jsxs)("div",{className:"defect active",children:[(0,r.jsx)("div",{className:"title",children:new Date(n.created_at).toLocaleString()}),(0,r.jsxs)("div",{className:"stepper",children:[(0,r.jsx)("div",{className:"blank-thumb"}),(0,r.jsx)("div",{className:"vr"})]}),(0,r.jsxs)("div",{className:"notification",children:[(0,r.jsxs)("div",{className:"ticket-title",children:["Ticket #",n.id]}),n.printing_belt?(0,r.jsxs)("div",{className:"description",children:["Printing belt | Printing belt"," ",null===n||void 0===n||null===(t=n.printing_belt)||void 0===t?void 0:t.machine_id," | ",n.reason]}):(0,r.jsxs)("div",{className:"description",children:["Vehicle belt | Vehicle belt"," ",null===n||void 0===n||null===(i=n.loader_belt)||void 0===i?void 0:i.machine_id," | ",n.reason]}),(0,r.jsx)("div",{className:"button-container",children:(0,r.jsx)(O.Z,{color:"inherit",text:"Mark Complete",style:{fontSize:"12px",height:"40px"},onClick:function(){return z(n.id)}})})]})]},e)}))}):(0,r.jsx)("p",{style:{padding:"20px",textAlign:"center"},children:"No maintenance ticket found"})})})})]}),(0,r.jsx)("div",{className:"right-portion",children:(0,r.jsx)("div",{className:"notification-container",children:(0,r.jsx)(ge,{alternateHeader:!0,title:"Latest Activity",hideFooter:!0,counter:(null===t||void 0===t?void 0:t.total_missed_labels)||0,summaryHeader:!0,disableMinimumHeight:!0,viewAllFunc:function(){return C(!0)},style:{maxHeight:"60vh",overflowY:"auto"},children:(0,r.jsx)(Fe,{applyHeightLimit:!0,children:t&&h?(0,r.jsx)(r.Fragment,{children:null===(n=Object.values(null===t||void 0===t?void 0:t.missed_paths))||void 0===n?void 0:n.map((function(n,e){return n.length<=0?null:(0,r.jsxs)("div",{className:"defect active",children:[(0,r.jsx)("div",{className:"title",children:"Just Now"}),(0,r.jsxs)("div",{className:"stepper",children:[(0,r.jsxs)("div",{className:"thumb",children:[(0,r.jsx)("div",{className:"vr invert-vr"}),(0,r.jsx)(x.default,{src:"Package_5rbWbqc1A.svg",loader:F.Z,layout:"fixed",height:40,width:40})]}),(0,r.jsx)("div",{className:"vr"})]}),(0,r.jsxs)("div",{className:"notification",children:[(0,r.jsxs)("div",{className:"info-container",children:[(0,r.jsxs)("div",{className:"info",children:[(0,r.jsx)("div",{className:"title",children:"Incorrect bags"}),(0,r.jsxs)("div",{className:"sub-title",children:[n.length," bags passed unmarked."]})]}),(0,r.jsx)("div",{className:"count",children:h[e-1]})]}),(0,r.jsx)("div",{className:"image-container",children:(0,r.jsx)(re.Z,{container:!0,children:n.map((function(n,e){return(0,r.jsx)(re.Z,{item:!0,xs:4,children:(0,r.jsxs)("div",{className:"image",children:[(0,r.jsx)("div",{className:"image-container",children:(0,r.jsx)(x.default,{src:n.local_image_path,loader:function(){return"".concat(tn._n,"/api/transaction/images?image_location=").concat(n.local_image_path||n.local_image_location)},layout:"fill",objectFit:"contain",objectPosition:"top"})}),(0,r.jsx)("div",{className:"time",children:cn()(new Date(n.created_at)).format("h:mm A")})]},e)})}))})})]})]},e)}))}):(0,r.jsx)("p",{style:{padding:"20px",textAlign:"center"},children:"No new activities found"})})})})})]})]})]})};function at(){var n,e,t=(n=["\n  .trackbar {\n    background: white;\n    display: flex;\n    align-items: center;\n    padding: 5px 60px;\n    color: #485057;\n\n    @media all and (max-width: 960px) {\n      padding: 10px;\n    }\n\n    .option {\n      padding: 8px 16px;\n      border-radius: 4px;\n      margin-right: 18px;\n\n      @media all and (max-width: 600px) {\n        width: 22%;\n      }\n\n      h6 {\n        cursor: pointer;\n      }\n    }\n\n    .active {\n      color: white;\n      background: #485057;\n      padding: 5px 10px;\n\n      h6 {\n        cursor: default;\n        font-weight: 900;\n      }\n    }\n  }\n\n  .analysis-container {\n    padding: 30px 60px 20px 60px;\n    background: #e5e5e5;\n\n    @media all and (max-width: 960px) {\n      padding: 20px;\n    }\n\n    .head {\n      color: ",";\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n\n      @media all and (max-width: 960px) {\n        flex-direction: column;\n      }\n\n      .search-container {\n        display: flex;\n        align-items: center;\n\n        p {\n          font-weight: 900;\n          margin-right: 20px;\n        }\n\n        .MuiOutlinedInput-input {\n          background: white;\n          border-radius: 5px;\n          padding: 12px;\n        }\n\n        .MuiOutlinedInput-notchedOutline {\n          border-color: white;\n        }\n      }\n    }\n\n    .analytics {\n      background: #f3f4f6;\n      margin-top: 40px;\n      padding: 20px;\n\n      .MuiGrid-item {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        margin-bottom: 30px;\n      }\n    }\n\n    .shipment-type {\n      display: flex;\n      align-items: center;\n      margin-bottom: 25px;\n\n      hr {\n        width: 100%;\n        border-top: 1px dashed gray;\n      }\n    }\n\n    .category-name {\n      white-space: nowrap;\n      margin-right: 14px;\n      color: gray;\n      font-size: 20px;\n    }\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return at=function(){return t},t}var rt=d.Z.div(at(),L.Z.palette.trypanBlue.main),ot=t(9703);function lt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function st(){return(st=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}var ct=function(n){var e=st({},n);return(0,r.jsx)(bn,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),i.forEach((function(e){lt(n,e,t[e])}))}return n}({},e))},dt=t(8193),ut=function(n){var e=n.open,t=n.close,i=n.heading,a=n.onlyBags,o=n.handleStop,l=n.hideConfirm,s=n.handleSubmit,c=n.showDivision,d=n.hideModify,u=n.handleBagDone;return(0,r.jsx)($,{open:e,buttonText:"Save",onlyBags:a,close:function(){return t()},bagCount:e.limit,handleStop:o,hideModify:d,hideConfirm:l,handleSubmit:s,showDivision:c,title:i||"Add more bags",currentCount:(null===e||void 0===e?void 0:e.is_bag_belt_active)?null===e||void 0===e?void 0:e.bag_count:null===e||void 0===e?void 0:e.printing_count,handleBagDone:u,children:a?null:(0,r.jsxs)("div",{className:"card-info-container",children:[(0,r.jsxs)("div",{className:"hint-container",children:[(0,r.jsxs)("div",{className:"hints",style:{marginRight:"10px"},children:[(0,r.jsx)("div",{className:"key",children:"Loader ID"}),(0,r.jsx)("div",{className:"value",children:e.vehicle_id})]}),(0,r.jsxs)("div",{className:"hints",children:[(0,r.jsx)("div",{className:"key",children:"Printing Belt ID"}),(0,r.jsx)("div",{className:"value",children:e.printing_id})]})]}),(0,r.jsxs)("div",{className:"hint-container",children:[(0,r.jsxs)("div",{className:"hints",style:{marginRight:"10px"},children:[(0,r.jsx)("div",{className:"key",children:"Vehicle Details"}),(0,r.jsx)("div",{className:"value",children:""===e.licence_number?"Wagon No.- ".concat(e.wagon_no," | Rake No.- ").concat(e.rack_no," | Gate/Door No.- ").concat(e.gate_no):"Truck No.- ".concat(e.licence_number)})]}),(0,r.jsxs)("div",{className:"hints",children:[(0,r.jsx)("div",{className:"key",children:"Bags Filled"}),(0,r.jsxs)("div",{className:"value",children:[e.bag_count," / ",e.bag_limit]})]})]}),(0,r.jsxs)("div",{className:"hint-container",children:[(0,r.jsxs)("div",{className:"hints",style:{marginRight:"10px"},children:[(0,r.jsx)("div",{className:"key",children:"Bag Type"}),(0,r.jsx)("div",{className:"value",children:e.bag_type})]}),(0,r.jsxs)("div",{className:"hints",children:[(0,r.jsx)("div",{className:"key",children:"Incorrect Bags"}),(0,r.jsx)("div",{className:"value",children:e.missed_label_count})]})]})]})})};ut.propTypes={open:l().any,close:l().func,onlyBags:l().bool,heading:l().string,handleSubmit:l().func,handleStop:l().any,printingCard:l().bool,hideModify:l().bool,handleBagDone:l().func};var pt=ut;function xt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ht(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),i.forEach((function(e){xt(n,e,t[e])}))}return n}var mt=function(n){var e,t,i=n.vehicleBelts,a=n.handleBagIncrement,o=n.ongoingTransactions,l=n.setReverseShipmentFormOpen,s=n.handleBagDone,d=(0,c.useState)(null),u=d[0],p=d[1],x=(0,c.useState)(null),h=x[0],m=x[1],f=(0,c.useState)(null),g=f[0],v=f[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"analysis-container",children:[(0,r.jsxs)("div",{className:"head",children:[(0,r.jsx)("h2",{children:"Loader Analysis"}),(0,r.jsx)("div",{className:"search-container"})]}),(0,r.jsxs)("div",{className:"analytics",children:[(0,r.jsxs)("div",{className:"shipment-type",children:[(0,r.jsx)("div",{style:{background:"#01ba8f",height:"18px",width:"18px",borderRadius:"100px",border:"2px solid #f5f5f5",marginRight:"4px"}}),(0,r.jsx)("span",{className:"category-name",children:"Active Loader"})," ",(0,r.jsx)("hr",{})]}),o&&0===(null===(e=Object.keys(o))||void 0===e?void 0:e.length)?(0,r.jsxs)("p",{style:{fontSize:"20px",textAlign:"center",color:"gray"},children:[(0,r.jsx)(dt.sQg,{style:{fontSize:"70px"}}),(0,r.jsx)("br",{}),"No shipment created.",(0,r.jsx)("br",{}),"Please create a shipment first."]}):(0,r.jsx)(re.Z,{container:!0,spacing:2,style:{backgroundColor:"#4DA76638",padding:"20px 10px 0",borderRadius:"10px"},children:o&&(null===(t=Object.keys(o))||void 0===t?void 0:t.map((function(n,e){return(0,r.jsx)(re.Z,{item:!0,xs:12,sm:6,md:4,lg:3,style:{marginBottom:"20px"},children:(0,r.jsx)(ct,{data:ht({},o[n]),rejectModalOpen:function(){return m(o[n])},setDetailModalOpen:function(){return p(o[n])},bagModifyModalOpen:function(){return v(o[n])},handleBagDone:s,loaderCard:!0,status:0})},e)})))}),(0,r.jsxs)("div",{className:"shipment-type",style:{marginTop:"20px"},children:[(0,r.jsx)("div",{style:{background:"#C0C0C0",height:"18px",width:"18px",borderRadius:"100px",border:"2px solid #f5f5f5",marginRight:"4px"}}),(0,r.jsx)("span",{className:"category-name",children:"Inactive loaders"})," ",(0,r.jsx)("hr",{})]}),i&&0===(null===i||void 0===i?void 0:i.length)?(0,r.jsxs)("p",{style:{fontSize:"20px",textAlign:"center",color:"gray"},children:[(0,r.jsx)(dt.sQg,{style:{fontSize:"70px"}}),(0,r.jsx)("br",{}),"No shipment created.",(0,r.jsx)("br",{}),"Please create a shipment first."]}):(0,r.jsx)(re.Z,{container:!0,spacing:2,style:{backgroundColor:"#C0C0C0",padding:"20px 10px 0",borderRadius:"10px"},children:i&&(null===i||void 0===i?void 0:i.map((function(n,e){return(0,r.jsx)(re.Z,{item:!0,xs:12,sm:6,md:4,lg:3,style:{marginBottom:"20px"},children:(0,r.jsx)(ct,{data:n,setReverseShipmentFormOpen:l,loaderCard:!0,status:2})},e)})))})]})]}),u?(0,r.jsx)(pt,{showDivision:!0,open:u,close:function(){return p(null)},heading:"Transaction details",handleSubmit:function(){p(null)},handleStop:function(){p(null)},handleBagDone:s,hideModify:!0}):null,h?(0,r.jsx)($,{open:h,close:function(){return m(null)},title:"Misprint bags",hideConfirm:!0,hideComment:!0,children:(0,r.jsx)(ln,{transaction_id:null===h||void 0===h?void 0:h.id})}):null,g?(0,r.jsx)(pt,{onlyBags:!0,open:g,close:function(){return v(null)},handleSubmit:function(n){a(n),v(null)}}):null]})};mt.propTypes={vehicleBelts:l().any,setReverseShipmentFormOpen:l().func,ongoingTransactions:l().any,handleBagDone:l().func};var ft=mt;function gt(n,e,t,i,a,r,o){try{var l=n[r](o),s=l.value}catch(c){return void t(c)}l.done?e(s):Promise.resolve(s).then(i,a)}function vt(n){return function(){var e=this,t=arguments;return new Promise((function(i,a){var r=n.apply(e,t);function o(n){gt(r,i,a,o,l,"next",n)}function l(n){gt(r,i,a,o,l,"throw",n)}o(void 0)}))}}function bt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jt(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),i.forEach((function(e){bt(n,e,t[e])}))}return n}var yt=function(n){var e=n.handleBagIncrement,t=n.handleStop,i=(0,c.useState)(null),o=i[0],l=i[1],d=(0,c.useState)(null),u=d[0],p=d[1],x=(0,c.useState)(null),h=x[0],m=x[1],f=(0,c.useState)(null),g=f[0],v=f[1],b=(0,c.useState)(null),j=b[0],y=b[1];return(0,c.useEffect)((function(){var n=vt(a().mark((function n(){var e,t,i,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,s.U2)("/api/transaction/packers");case 3:i=n.sent,r={},null===i||void 0===i||null===(e=i.data)||void 0===e||null===(t=e.data)||void 0===t||t.forEach((function(n){r[n.id]={count:0,machine_id:null===n||void 0===n?void 0:n.machine_id}})),y(r);case 7:case"end":return n.stop()}}),n)})));j||n()}),[j]),(0,c.useEffect)((function(){var n=vt(a().mark((function n(){var e,t,i,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,s.U2)("/api/transaction/packer-analytics");case 3:i=n.sent,r=j,null===i||void 0===i||null===(e=i.data)||void 0===e||null===(t=e.data)||void 0===t||t.forEach((function(n){r[null===n||void 0===n?void 0:n.packer_id]=jt({},r[null===n||void 0===n?void 0:n.packer_id],{count:null===n||void 0===n?void 0:n.count,machine_id:null===n||void 0===n?void 0:n.machine_id})})),v(r);case 7:case"end":return n.stop()}}),n)})));j&&n()}),[j]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"analysis-container",children:[(0,r.jsxs)("div",{className:"head",children:[(0,r.jsx)("h2",{children:"Packer Analytics"}),(0,r.jsx)("div",{className:"search-container"})]}),(0,r.jsx)("div",{className:"analytics",children:(0,r.jsx)(re.Z,{container:!0,children:g&&Object.values(g).map((function(n,e){return(0,r.jsx)(re.Z,{item:!0,xs:3,children:(0,r.jsx)(ct,{data:{id:null===n||void 0===n?void 0:n.machine_id,count:null===n||void 0===n?void 0:n.count},packerCard:!0})},e)}))})})]}),o?(0,r.jsx)(pt,{open:o,close:function(){return l(null)},heading:"Transaction details",handleSubmit:function(n){e(n),l(null)},handleStop:function(n){t(n),l(null)}}):null,u?(0,r.jsx)($,{open:u,close:function(){return p(null)},title:"Misprint bags",hideConfirm:!0,hideComment:!0,children:(0,r.jsx)(ln,{transaction_id:null===u||void 0===u?void 0:u.transaction_id})}):null,h?(0,r.jsx)(pt,{open:h,close:function(){return m(null)},onlyBags:!0,handleSubmit:function(n){e(n),m(null)}}):null]})};yt.propTypes={handleBagIncrement:l().func,handleStop:l().any};var wt=yt;function Nt(){var n,e,t=(n=["\n  margin: auto;\n  ","\n  width: 80%;\n  padding-top: 80px;\n  padding-bottom: 50px;\n  margin-bottom: 100px;\n\n  .sub-heading {\n    font-size: 20px;\n    font-weight: 900;\n    padding: 20px 40px 40px 40px !important;\n  }\n\n  .form {\n    padding: 0 40px 20px 40px;\n\n    .label {\n      font-weight: 900;\n      margin-bottom: 10px;\n    }\n\n    .MuiFormControl-root {\n      width: 100%;\n    }\n\n    .input-container {\n      width: 100%;\n      margin-right: 24px;\n      margin-bottom: 40px;\n\n      .counter-container {\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n\n        .MuiFormControl-root {\n          width: 54px;\n          margin: 0 10px;\n        }\n\n        .MuiOutlinedInput-input {\n          padding: 10px;\n        }\n\n        .MuiInputBase-root {\n          font-size: 25px;\n        }\n\n        span {\n          cursor: pointer;\n        }\n      }\n    }\n  }\n\n  .submit-container {\n    padding: 40px 0 20px 0;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-top: 20px;\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\n\n    p {\n      color: black;\n      font-size: 16px;\n    }\n\n    .MuiButtonBase-root {\n      width: 220px;\n      border-radius: 12px;\n    }\n\n    @media all and (max-width: 960px) {\n      flex-direction: column;\n    }\n  }\n\n  .select-label {\n    position: absolute;\n    top: 50%;\n    left: 0;\n    transform: translate(40%, -50%);\n    color: #b1b1b1;\n    font-size: 17px;\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return Nt=function(){return t},t}var kt=d.Z.div(Nt(),"");function _t(n,e,t,i,a,r,o){try{var l=n[r](o),s=l.value}catch(c){return void t(c)}l.done?e(s):Promise.resolve(s).then(i,a)}function Zt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Ct=(0,v.Z)((function(n){return{title:{width:"100%",color:n.palette.trypanBlue.main,fontSize:"30px",fontWeight:"900",position:"relative",fontFamily:"Titillium Web"},close:{marginTop:"10px","& .MuiButtonBase-root":{color:"black","& .MuiButton-label":{fontWeight:"900"}}},heading:Zt({display:"flex",justifyContent:"space-between",padding:"20px 40px"},n.breakpoints.down(960),{flexDirection:"column-reverse",alignItems:"end"}),formContainer:{background:"white"},desc:Zt({},n.breakpoints.down(960),{textAlign:"center"}),formInfo:Zt({},n.breakpoints.down(960),{marginBottom:"20px"})}})),St=function(n){var e=n.close,t=Ct(),i=(0,c.useState)(""),o=i[0],l=i[1],d=(0,c.useState)(""),u=d[0],p=d[1],x=(0,c.useState)(""),h=x[0],m=x[1],f=(0,c.useState)(""),g=f[0],v=f[1],b=(0,c.useState)(""),j=b[0],y=b[1],w=(0,c.useState)(!1),k=w[0],_=w[1],P=(0,c.useState)(null),B=P[0],z=P[1],T=(0,Ze.useMutation)((function(n){return(0,s.v_)("/api/transaction/maintenance",n).then((function(n){return n.data}))}));(0,c.useEffect)((function(){var n,e=(n=a().mark((function n(e){var t,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,s.U2)("/api/transaction/beltIds",{type:e});case 3:i=n.sent,z(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.data);case 5:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(i,a){var r=n.apply(e,t);function o(n){_t(r,i,a,o,l,"next",n)}function l(n){_t(r,i,a,o,l,"throw",n)}o(void 0)}))});""===o||B||e(o)}),[B,o]),(0,c.useEffect)((function(){T.isSuccess&&(T.reset(),e())}),[e,T]);return(0,r.jsxs)(kt,{children:[T.isLoading?(0,r.jsx)(An.Z,{}):null,(0,r.jsxs)("div",{className:t.formContainer,children:[(0,r.jsxs)("div",{className:t.heading,children:[(0,r.jsx)("div",{className:t.title,children:(0,r.jsx)("p",{className:t.desc,children:"Create new maintenance request"})}),(0,r.jsx)("div",{className:t.close,children:(0,r.jsx)(N.Z,{onClick:function(){return e()},style:{whiteSpace:"nowrap"},children:"X Close"})})]}),(0,r.jsx)("div",{className:"sub-heading",children:"Machinery type"}),(0,r.jsx)("form",{children:(0,r.jsxs)("div",{className:"form",children:[(0,r.jsxs)("div",{className:"input-container",children:[(0,r.jsx)("div",{className:"label",children:"Machine type"}),(0,r.jsxs)(Z.Z,{children:[""===o?(0,r.jsx)("div",{className:"select-label",children:"Select"}):null,(0,r.jsxs)(C.Z,{variant:"outlined",value:o,onChange:function(n){l(n.target.value),p(""),z(null)},children:[(0,r.jsx)(S.Z,{value:0,children:"Printing machine"}),(0,r.jsx)(S.Z,{value:1,children:"Counting machine"})]})]})]}),(0,r.jsxs)("div",{className:"input-container",children:[(0,r.jsx)("div",{className:"label",children:"Belt ID"}),(0,r.jsxs)(Z.Z,{children:[""===u?(0,r.jsx)("div",{className:"select-label",children:"Select"}):null,(0,r.jsx)(C.Z,{variant:"outlined",value:u,onChange:function(n){return p(n.target.value)},disabled:""===o,children:B&&B.map((function(n,e){return(0,r.jsx)(S.Z,{value:n.id,children:n.machine_id},e)}))})]})]}),(0,r.jsxs)("div",{className:"input-container",children:[(0,r.jsx)("div",{className:"label",children:"Reason for the ticket"}),(0,r.jsxs)(Z.Z,{children:[""===h?(0,r.jsx)("div",{className:"select-label",children:"Select"}):null,(0,r.jsxs)(C.Z,{variant:"outlined",value:h,onChange:function(n){return m(n.target.value)},children:[(0,r.jsx)(S.Z,{value:"Belt down for maintenance",children:"Belt down for maintenance"}),(0,r.jsx)(S.Z,{value:"Belt camera not working",children:"Belt camera not working"})]})]})]}),(0,r.jsxs)("div",{className:"input-container",children:[(0,r.jsx)("div",{className:"label",children:"Down untill"}),(0,r.jsx)(E.Z,{type:"datetime-local",variant:"outlined",placeholder:"Down till",value:g,onChange:function(n){return v(n.target.value)}})]}),(0,r.jsxs)("div",{className:"input-container",children:[(0,r.jsx)("div",{className:"label",children:"Any comments(optional)"}),(0,r.jsx)(E.Z,{type:"text",variant:"outlined",placeholder:"Comments",value:j,onChange:function(n){return y(n.target.value)},multiline:!0,rows:4})]}),(0,r.jsxs)("div",{className:"submit-container",children:[(0,r.jsx)("p",{className:t.formInfo,children:"Once you have marked all the choices as per your needs, click save."}),(0,r.jsx)(O.Z,{text:"Create Ticket",onClick:function(){return _(!0)},isInactive:""===o||""===u||""===h||""===g})]})]})})]}),k?(0,r.jsx)($,{open:k,close:function(){return _(!1)},title:"Confirm changes",handleSubmit:function(){return _(!1),void T.mutate({machine_type:o,belt_id:u,reason:h,comments:j,down_till:new Date(g).getTime()})},children:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("p",{children:"Do you want to go ahead and save the changes you made?"})})}):null]})};St.propTypes={close:l().func};var Ot=St,Pt=(0,v.Z)((function(){return{modal:{display:"flex",padding:"10px",alignItems:"flex-start",justifyContent:"center"},paper:{position:"relative",background:L.Z.palette.error.main,padding:"20px",width:"95%",color:"black",fontSize:"15px",display:"flex",justifyContent:"space-between",alignItems:"center",borderRadius:"10px",marginTop:"30px"},close:{top:"10px",right:"10px",cursor:"pointer",position:"absolute"},imgContainer:{textAlign:"center","&:img":{width:"60px"}},button:{textTransform:"capitalize",borderRadius:"20px",marginTop:"10px",color:"white",background:"yellow","&:hover":{background:"pink"}},title:{display:"flex",alignItems:"center"},heading:{color:"white",marginLeft:"40px"},bold:{fontWeight:"900"},subHeading:{marginTop:"20px",fontSize:"16px"},actionButton:{background:"white",color:L.Z.palette.byzantine.main,fontWeight:"900",height:"40px",width:"200px",marginRight:"16px",borderRadius:"12px","&:hover":{background:L.Z.palette.gradient.pink,color:"white"}}}})),Bt=function(n){var e=n.open,t=n.close,i=Pt();return(0,r.jsx)(D.Z,{open:e,onClose:function(){return t()},closeAfterTransition:!0,className:i.modal,BackdropComponent:A.Z,BackdropProps:{timeout:500},children:(0,r.jsx)(R.Z,{in:e,children:(0,r.jsxs)("div",{className:i.paper,children:[(0,r.jsxs)("div",{className:i.title,children:[(0,r.jsx)("div",{className:"icon",children:(0,r.jsx)(x.default,{src:"icons/bell_RT6oBFUYV.svg",loader:F.Z,layout:"fixed",height:120,width:120})}),(0,r.jsxs)("div",{className:i.heading,children:[(0,r.jsxs)("h4",{children:["Loader #6: ",(0,r.jsx)("span",{className:i.bold,children:"Incorrect bags"})]}),(0,r.jsx)("p",{className:i.subHeading,children:"Here is a subtitle for this table"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Z,{variant:"contained",className:i.actionButton,children:"Mark Solved"}),(0,r.jsx)(N.Z,{variant:"contained",className:i.actionButton,children:"Snooze"})]})]})})})};Bt.propTypes={open:l().bool.isRequired,close:l().func.isRequired};var zt=Bt;function Tt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Mt(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),i.forEach((function(e){Tt(n,e,t[e])}))}return n}var It=function(n){var e,t,i=n.printingBelts,a=(0,c.useState)(null),o=a[0],l=a[1],s=(0,c.useState)(null),d=s[0],u=s[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"analysis-container",children:[(0,r.jsxs)("div",{className:"head",children:[(0,r.jsx)("h2",{children:"Printing Analysis"}),(0,r.jsx)("div",{className:"search-container"})]}),(0,r.jsx)("div",{className:"analytics",children:i&&0===(null===(e=Object.keys(i))||void 0===e?void 0:e.length)?(0,r.jsxs)("p",{style:{fontSize:"20px",textAlign:"center",color:"gray"},children:[(0,r.jsx)(dt.sQg,{style:{fontSize:"70px"}}),(0,r.jsx)("br",{}),"No info found.",(0,r.jsx)("br",{})]}):(0,r.jsx)(re.Z,{container:!0,spacing:2,children:i&&(null===(t=Object.keys(i))||void 0===t?void 0:t.map((function(n,e){return(0,r.jsx)(re.Z,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,r.jsx)(ct,{data:Mt({},i[n]),rejectModalOpen:function(){return u(Mt({},i[n],{printing_belt_id:n}))},setDetailModalOpen:function(){return l(Mt({transaction_id:n},i[n]))},printingCard:!0,status:0})},e)})))})})]}),o?(0,r.jsx)(pt,{open:o,close:function(){return l(null)},heading:"Transaction details",handleSubmit:function(){l(null)},handleStop:function(){l(null)},printingCard:!0}):null,d?(0,r.jsx)($,{open:d,close:function(){return u(null)},title:"Misprint bags",hideConfirm:!0,hideComment:!0,children:(0,r.jsx)(ln,{belt_id:null===d||void 0===d?void 0:d.printing_id})}):null]})};It.propTypes={printingBelts:l().any};var Ft=It;function Dt(n,e,t,i,a,r,o){try{var l=n[r](o),s=l.value}catch(c){return void t(c)}l.done?e(s):Promise.resolve(s).then(i,a)}function At(n){return function(){var e=this,t=arguments;return new Promise((function(i,a){var r=n.apply(e,t);function o(n){Dt(r,i,a,o,l,"next",n)}function l(n){Dt(r,i,a,o,l,"throw",n)}o(void 0)}))}}function Rt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Et(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),i.forEach((function(e){Rt(n,e,t[e])}))}return n}var Lt=function(n){var e=n.activeSection,t=n.handleBagIncrement,i=n.handleStop,a=n.printingBelts,o=n.backgroundTransactions,l=n.vehicleBelts,s=n.setReverseShipmentFormOpen,c=n.ongoingTransactions,d=n.queuedTransactions,u=n.handleBagDone;return 0===e?(0,r.jsx)(ft,{vehicleBelts:l,backgroundTransactions:o,setReverseShipmentFormOpen:s,ongoingTransactions:c,queuedTransactions:d,handleBagIncrement:t,handleBagDone:u}):1===e?(0,r.jsx)(Ft,{printingBelts:a,backgroundTransactions:o}):2===e?(0,r.jsx)(wt,{handleStop:i}):3===e?(0,r.jsx)(it,{}):(0,r.jsx)(Dn,{})};Lt.propTypes={activeSection:l().number,handleBagIncrement:l().func,handleStop:l().any,printingBelts:l().any,backgroundTransactions:l().any,vehicleBelts:l().any,setReverseShipmentFormOpen:l().func,ongoingTransactions:l().any,queuedTransactions:l().any,handleBagDone:l().func};var Wt=function(){var n=(0,Rn.useRouter)(),e=Ce(),t=(0,c.useContext)(ot.J),i=(0,c.useContext)(Yn.k).userData,o=(0,c.useState)(!1),l=o[0],d=o[1],u=(0,c.useState)({}),p=u[0],x=u[1],h=(0,c.useState)(null),m=h[0],f=h[1],g=(0,c.useState)(!1),v=g[0],b=g[1],j=(0,c.useState)(!1),y=j[0],w=j[1],N=(0,c.useState)(!1),k=N[0],_=N[1],Z=(0,c.useState)(!1),C=Z[0],S=Z[1],O=(0,c.useState)(!1),P=O[0],B=O[1],z=(0,c.useState)(!1),T=z[0],M=z[1],I=(0,c.useState)(null),F=I[0],D=I[1],A=(0,c.useState)(tn.Q0?4:0),R=A[0],E=A[1],L=(0,c.useState)(null),W=L[0],H=L[1],q=(0,c.useState)(null),U=q[0],K=q[1],V=(0,c.useState)(null),Q=V[0],X=V[1],J=At(a().mark((function n(e,t,i,r,o){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d(!0),n.next=3,(0,s.gz)("/api/transaction/shipment-done",{transaction_id:e,comment:o,vehicle_id:t,printing_belt_id:i});case 3:K((function(n){var t=n;return delete t[e],t})),f((function(n){var e=n;return e.push({id:t,vehicle_id:r}),e})),d(!1);case 6:case"end":return n.stop()}}),n)}))),Y=At(a().mark((function n(t){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.mutate(t);case 1:case"end":return n.stop()}}),n)})));(0,c.useEffect)((function(){e.isSuccess&&(e.reset(),_(!1),H(null))}),[e]);var $=At(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d(!0),n.next=3,(0,s.v_)("/api/transaction/bag-change",e);case 3:n.sent,K(Object.keys(U).map((function(n){return U[n].id===e.transaction_id?Et({},U[n],{bag_limit:parseInt(null===e||void 0===e?void 0:e.new_bag_limit)+parseInt(null===e||void 0===e?void 0:e.old_limit)}):U[n]}))),d(!1);case 6:case"end":return n.stop()}}),n)}))),nn=At(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:d(!0),d(!1);case 2:case"end":return n.stop()}}),n)})));return(0,c.useEffect)((function(){At(a().mark((function n(){var e,t,i,r,o,l,c,d,u,p,h,m;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,s.U2)("/api/transaction");case 3:h=n.sent,m=null===h||void 0===h||null===(e=h.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.backgroundInfo,D(m),x(null===h||void 0===h||null===(i=h.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.printingBeltRes),f(null===h||void 0===h||null===(o=h.data)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.vehicleBeltRes),K(null===h||void 0===h||null===(c=h.data)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.ongoingTransactions),X(null===h||void 0===h||null===(u=h.data)||void 0===u||null===(p=u.data)||void 0===p?void 0:p.queuedTransactions);case 10:case"end":return n.stop()}}),n)})))()}),[]),(0,c.useEffect)((function(){t.on("bag-entry",(function(n){console.log(n,"----bag-entry");var e=parseInt(null===n||void 0===n?void 0:n.transaction_id,10);K((function(t){return t?t&&0===Object.keys(t).length?{}:e in t?Et({},t,Rt({},e,Et({},t[e],{bag_count:null===n||void 0===n?void 0:n.count}))):t:null}))})),t.on("tag-entry",(function(n){console.log(n,"----tag-entry");var e=parseInt(null===n||void 0===n?void 0:n.transaction_id,10);K((function(t){return t?t&&0===Object.keys(t).length?{}:e in t?Et({},t,Rt({},e,Et({},t[e],{missed_label_count:null===n||void 0===n?void 0:n.transactionMissed}))):t:null}));var t=parseInt(null===n||void 0===n?void 0:n.belt_id,10);x((function(e){return e?Et({},e,Rt({},t,Et({},e[t],{tag_count:null===n||void 0===n?void 0:n.count,missed_label_count:null===n||void 0===n?void 0:n.missed_count}))):null}))})),t.on("tag-entry-deactivated",(function(n){var e=parseInt(null===n||void 0===n?void 0:n.belt_id,10);x((function(t){return t?Et({},t,Rt({},e,Et({},t[e],{tag_count:null===n||void 0===n?void 0:n.count,missed_label_count:null===n||void 0===n?void 0:n.missed_count}))):null}))})),t.on("service",(function(n){var e=parseInt(null===n||void 0===n?void 0:n.id,10);K((function(t){return t?Et({},t,Rt({},e,n)):null})),f((function(e){return e?e.filter((function(e){if(e.id!==n.bag_counting_belt_id)return e})):null}))})),t.on("background-reset",(function(){x((function(n){if(!n)return null;var e={};return Object.keys(n).forEach((function(t){var i;e[t]={printing_id:null===(i=n[t])||void 0===i?void 0:i.tag_machine_id,missed_label_count:0,tag_count:0,id:t}})),e}))}))}),[t]),i?!1===i.isLoggedIn?(n.push("/login"),(0,r.jsx)(An.Z,{})):k||W?(0,r.jsx)(Me,{close:function(){return _(!1)},handleSubmit:Y,reverseShipmentFormOpen:W,setReverseShipmentFormOpen:function(n){return H(n)}}):P?(0,r.jsx)(Xe,{close:function(){return B(!1)}}):T?(0,r.jsx)(nt,{close:function(){return M(!1)}}):y?(0,r.jsx)(Ot,{close:function(){return w(!1)}}):(0,r.jsx)(ge,{openShipmentForm:function(){return _(!0)},openMaintenanceForm:function(){return B(!0)},openNotificationForm:function(){return M(!0)},maintenanceForm:function(){return w(!0)},children:(0,r.jsxs)(rt,{children:[l?(0,r.jsx)(An.Z,{}):null,(0,r.jsxs)("div",{className:"trackbar",children:[tn.Q0?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"option ".concat(0===R?"active":""),onClick:function(){return E(0)},onKeyPress:function(){return E(0)},role:"button",tabIndex:0,children:(0,r.jsx)("h6",{style:{textAlign:"center"},children:"Loader belt"})}),(0,r.jsx)("div",{className:"option ".concat(1===R?"active":""),onClick:function(){return E(1)},onKeyPress:function(){return E(1)},role:"button",tabIndex:0,children:(0,r.jsx)("h6",{style:{textAlign:"center"},children:"Printing belt"})}),(0,r.jsx)("div",{className:"option ".concat(3===R?"active":""),onClick:function(){return E(3)},onKeyPress:function(){return E(3)},role:"button",tabIndex:0,children:(0,r.jsx)("h6",{style:{textAlign:"center"},children:"Summary"})})]}),(0,r.jsx)("div",{className:"option ".concat(4===R?"active":""),onClick:function(){return E(4)},onKeyPress:function(){return E(4)},role:"button",tabIndex:0,children:(0,r.jsx)("h6",{style:{textAlign:"center"},children:"Reports"})})]}),(0,r.jsx)(Lt,{activeSection:R,handleBagIncrement:$,handleStop:nn,printingBelts:p,backgroundTransactions:F,vehicleBelts:m,setReverseShipmentFormOpen:function(n){return H(n)},ongoingTransactions:U,queuedTransactions:Q,handleBagDone:J}),C?(0,r.jsx)(zt,{open:C,close:function(){return S(!1)}}):null,v?(0,r.jsx)(G,{open:v,close:function(){return b(!1)},title:"Confirm changes",children:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("p",{children:"Do you want to go ahead and save the changes you made?"})})}):null]})}):(0,r.jsx)(An.Z,{})}}},function(n){n.O(0,[866,158,13,874,617,885,153,396,774,888,179],(function(){return e=8581,n(n.s=e);var e}));var e=n.O();_N_E=e}]);